<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0D47A1">
  <meta name="description" content="Sync Planner - Produktivitas Islami untuk ASN">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Sync Planner - Produktivitas Islami</title>
  
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icon-192.png">
  <link rel="apple-touch-icon" href="icon-192.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #0D47A1;
      --primary-dark: #002171;
      --primary-light: #5472D3;
      --secondary: #00695C;
      --secondary-light: #439889;
      --accent: #FF6F00;
      --accent-light: #FFA040;
      --success: #2E7D32;
      --success-light: #E8F5E9;
      --warning: #F57C00;
      --warning-light: #FFF3E0;
      --danger: #C62828;
      --danger-light: #FFEBEE;
      --info: #0277BD;
      --info-light: #E1F5FE;
      
      --gray-50: #FAFAFA;
      --gray-100: #F5F5F5;
      --gray-200: #EEEEEE;
      --gray-300: #E0E0E0;
      --gray-400: #BDBDBD;
      --gray-500: #9E9E9E;
      --gray-600: #757575;
      --gray-700: #616161;
      --gray-800: #424242;
      --gray-900: #212121;
      
      --spiritual: #6A1B9A;
      --spiritual-light: #F3E5F5;
      
      --gradient-header: linear-gradient(135deg, #1a237e 0%, #0d47a1 50%, #01579b 100%);
      --gradient-spiritual: linear-gradient(135deg, #4A148C 0%, #7B1FA2 100%);
      
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
      --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
      
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-full: 9999px;
      
      --font-arabic: 'Amiri', serif;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--gray-100);
      color: var(--gray-900);
      line-height: 1.6;
      min-height: 100vh;
      padding-bottom: 80px;
      font-size: 16px;
    }
    
    /* Header */
    .header {
      background: var(--gradient-header);
      color: white;
      padding: 16px 20px 20px;
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .header-top h1 { font-size: 22px; font-weight: 700; }
    .header-date { font-size: 14px; opacity: 0.9; }
    
    .header-greeting {
      text-align: center;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255,255,255,0.15);
      margin-bottom: 12px;
    }
    .header-greeting .arabic {
      font-family: var(--font-arabic);
      font-size: 22px;
      margin-bottom: 4px;
    }
    .header-greeting .translation {
      font-size: 11px;
      opacity: 0.8;
    }
    
    .header-stats {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .header-stats .stats-left {
      display: flex;
      gap: 12px;
    }
    .header-stats .stat-item {
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .header-stats .stat-item.clickable {
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 12px;
      background: rgba(255,255,255,0.15);
      transition: all 0.2s;
    }
    .header-stats .stat-item.clickable:hover {
      background: rgba(255,255,255,0.25);
    }
    .header-stats .stat-item .value { font-weight: 700; }
    
    .header-stats .quick-icons {
      display: flex;
      gap: 8px;
    }
    .quick-icon-btn {
      width: 36px;
      height: 36px;
      border: none;
      border-radius: var(--radius-full);
      background: rgba(255,255,255,0.15);
      font-size: 18px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .quick-icon-btn:hover { background: rgba(255,255,255,0.25); }
    .quick-icon-btn:active { transform: scale(0.95); }
    
    .sync-btn {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 6px 12px;
      background: var(--accent);
      border: none;
      border-radius: var(--radius-full);
      color: white;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      animation: pulse-sync 2s infinite;
    }
    @keyframes pulse-sync {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    /* Main */
    .main { padding: 20px; }
    
    /* Cards */
    .card {
      background: white;
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .card-title { font-size: 17px; font-weight: 700; }
    .card-action {
      font-size: 14px;
      color: var(--primary);
      cursor: pointer;
      font-weight: 600;
    }
    
    .section-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--gray-700);
      margin: 24px 0 12px;
    }
    
    /* ============================================
       DAILY QUOTE CARD
       ============================================ */
    .quote-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: var(--radius-lg);
      padding: 20px;
      margin: 16px;
      margin-bottom: 12px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      color: white;
      position: relative;
      box-shadow: var(--shadow-md);
    }
    .quote-icon {
      font-size: 28px;
      flex-shrink: 0;
    }
    .quote-content {
      flex: 1;
    }
    .quote-text {
      font-size: 16px;
      line-height: 1.6;
      font-weight: 500;
      margin-bottom: 8px;
    }
    .quote-source {
      font-size: 13px;
      opacity: 0.85;
      font-style: italic;
    }
    .quote-refresh {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .quote-refresh:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(180deg);
    }
    
    /* Journal Cards */
    .journal-card {
      background: white;
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .journal-card.morning { border-left: 4px solid var(--warning); }
    .journal-card.evening { border-left: 4px solid var(--spiritual); }
    .journal-card .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .journal-card .title {
      font-size: 17px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .journal-card .status {
      font-size: 12px;
      padding: 5px 12px;
      border-radius: var(--radius-full);
      font-weight: 600;
    }
    .journal-card .status.done { background: var(--success-light); color: var(--success); }
    .journal-card .status.pending { background: var(--gray-100); color: var(--gray-500); }
    .journal-card .content {
      font-size: 15px;
      line-height: 1.8;
      color: var(--gray-700);
    }
    .journal-card .content .label {
      font-weight: 600;
      color: var(--gray-800);
      margin-top: 10px;
    }
    .journal-card .content .label:first-child { margin-top: 0; }
    
    /* Journal Saved Content */
    .journal-saved-content {
      background: var(--gray-50);
      border-radius: var(--radius-md);
      padding: 14px;
    }
    .journal-item {
      margin-bottom: 12px;
    }
    .journal-item:last-child { margin-bottom: 0; }
    .journal-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--gray-500);
      margin-bottom: 4px;
    }
    .journal-text {
      font-size: 15px;
      color: var(--gray-700);
      line-height: 1.6;
      white-space: pre-wrap;
    }
    
    .journal-card textarea {
      width: 100%;
      min-height: 60px;
      padding: 12px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      font-size: 15px;
      font-family: inherit;
      resize: none;
      margin-bottom: 10px;
      line-height: 1.6;
    }
    .journal-card textarea:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    /* Enhanced Journal Form Styles */
    .journal-enhanced {
      max-height: 70vh;
      overflow-y: auto;
    }
    .journal-section {
      background: var(--gray-50);
      border-radius: var(--radius-md);
      padding: 12px;
      margin-bottom: 12px;
    }
    .section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    .section-icon {
      font-size: 18px;
    }
    .section-title {
      font-weight: 600;
      color: var(--gray-800);
      font-size: 14px;
    }
    .section-hint {
      font-size: 11px;
      color: var(--gray-500);
      font-weight: normal;
    }
    .helper-text {
      font-size: 12px;
      color: var(--gray-500);
      margin-bottom: 8px;
    }
    .form-label-sm {
      font-size: 12px;
      font-weight: 500;
      color: var(--gray-600);
      margin-bottom: 4px;
      display: block;
    }
    
    /* Mood & Energy Row */
    .mood-energy-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    .mood-selector, .energy-selector {
      flex: 1;
      min-width: 140px;
    }
    .mood-options {
      display: flex;
      gap: 6px;
    }
    .mood-btn {
      width: 36px;
      height: 36px;
      border: 2px solid var(--gray-200);
      border-radius: 50%;
      background: white;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .mood-btn:hover {
      border-color: var(--primary);
      transform: scale(1.1);
    }
    .mood-btn.selected {
      border-color: var(--primary);
      background: var(--primary-light);
      transform: scale(1.15);
    }
    .energy-slider {
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: var(--gray-200);
      outline: none;
      -webkit-appearance: none;
    }
    .energy-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
    }
    
    /* State Options (NLP Anchoring) */
    .state-options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .state-btn {
      padding: 8px 12px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      background: white;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .state-btn:hover {
      border-color: var(--primary);
      background: var(--primary-light);
    }
    .state-btn.selected {
      border-color: var(--primary);
      background: var(--primary);
      color: white;
    }
    
    /* Sedona Method Section */
    .sedona-section {
      background: linear-gradient(135deg, #f0f7ff 0%, #e8f4f8 100%);
    }
    .sedona-steps {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .sedona-step {
      background: white;
      padding: 10px;
      border-radius: var(--radius-sm);
    }
    .emotion-options, .accept-options, .release-options {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }
    .emotion-btn, .accept-btn, .release-btn {
      padding: 6px 10px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-sm);
      background: white;
      font-size: 11px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .emotion-btn:hover, .accept-btn:hover, .release-btn:hover {
      border-color: var(--primary);
    }
    .emotion-btn.selected {
      border-color: var(--warning);
      background: #fff8e6;
    }
    .accept-btn.selected, .release-btn.selected {
      border-color: var(--success);
      background: var(--success-light);
    }
    
    /* Saved Journal Display */
    .mood-energy-display {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--gray-200);
      margin-bottom: 8px;
    }
    .mood-badge {
      font-size: 24px;
    }
    .energy-badge, .state-badge {
      font-size: 11px;
      padding: 4px 8px;
      background: var(--gray-100);
      border-radius: 12px;
      color: var(--gray-600);
    }
    .state-badge {
      background: var(--primary-light);
      color: var(--primary-dark);
    }
    .sedona-summary {
      background: #f0f7ff;
      padding: 8px;
      border-radius: var(--radius-sm);
    }
    
    /* Pelajaran Inti Page Styles */
    .pelajaran-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      overflow-x: auto;
    }
    .pelajaran-tab {
      flex: 1;
      padding: 10px 12px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      background: white;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }
    .pelajaran-tab:hover {
      border-color: var(--primary);
    }
    .pelajaran-tab.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    .pelajaran-content {
      display: none;
    }
    .pelajaran-content.active {
      display: block;
    }
    .pelajaran-intro {
      font-size: 13px;
      color: var(--gray-600);
      line-height: 1.6;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--gray-100);
    }
    .pelajaran-section {
      margin-bottom: 20px;
    }
    .pelajaran-section h4 {
      font-size: 14px;
      font-weight: 700;
      color: var(--gray-800);
      margin-bottom: 10px;
    }
    .pelajaran-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .pelajaran-list li {
      font-size: 12px;
      line-height: 1.6;
      padding: 8px 0;
      border-bottom: 1px solid var(--gray-100);
    }
    .pelajaran-list li:last-child {
      border-bottom: none;
    }
    .technique-card {
      background: var(--gray-50);
      border-radius: var(--radius-md);
      padding: 12px;
      margin-bottom: 12px;
    }
    .technique-title {
      font-size: 13px;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 6px;
    }
    .technique-card p {
      font-size: 12px;
      color: var(--gray-600);
      margin-bottom: 8px;
    }
    .technique-steps {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .technique-steps .step {
      font-size: 11px;
      padding: 6px 8px;
      background: white;
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--primary);
    }
    .example-box, .formula-box, .concept-box {
      background: white;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-sm);
      padding: 10px;
      font-size: 12px;
      line-height: 1.6;
    }
    .formula-box {
      background: linear-gradient(135deg, #f0f7ff, #e8f4f8);
      border-color: var(--primary-light);
    }
    .concept-box {
      background: linear-gradient(135deg, #fff9e6, #fff5cc);
      border-color: var(--warning);
    }
    .note-text {
      font-size: 11px;
      color: var(--gray-500);
      font-style: italic;
      margin-top: 8px;
    }
    
    /* Sedona Method Specific */
    .sedona-questions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .sedona-q {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }
    .q-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      flex-shrink: 0;
    }
    .q-content strong {
      font-size: 13px;
      display: block;
      margin-bottom: 4px;
    }
    .q-content p {
      font-size: 11px;
      color: var(--gray-500);
      margin: 0;
    }
    .wants-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .want-card {
      background: var(--gray-50);
      border-radius: var(--radius-md);
      padding: 10px;
    }
    .want-title {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .want-card p {
      font-size: 11px;
      color: var(--gray-600);
      margin: 0 0 4px 0;
    }
    .release-q {
      font-style: italic;
      color: var(--primary) !important;
    }
    
    /* Atomic Habits Specific */
    .habit-loop {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
      padding: 12px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
      margin-bottom: 12px;
    }
    .loop-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      flex: 1;
      min-width: 60px;
    }
    .loop-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }
    .loop-name {
      font-size: 10px;
      font-weight: 700;
      color: var(--primary);
    }
    .loop-desc {
      font-size: 9px;
      color: var(--gray-500);
    }
    .loop-arrow {
      color: var(--gray-300);
      font-size: 16px;
    }
    .laws-container {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .law-card {
      border-radius: var(--radius-md);
      padding: 12px;
      border: 1px solid;
    }
    .law-card.good {
      background: linear-gradient(135deg, #f0fff4, #e6ffed);
      border-color: var(--success);
    }
    .law-card.bad {
      background: linear-gradient(135deg, #fff5f5, #ffe6e6);
      border-color: #e53e3e;
    }
    .law-header {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    .law-item {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    .law-item:last-child {
      margin-bottom: 0;
    }
    .law-num {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      flex-shrink: 0;
    }
    .law-item strong {
      font-size: 12px;
      display: block;
      margin-bottom: 2px;
    }
    .law-item p {
      font-size: 11px;
      color: var(--gray-600);
      margin: 2px 0 0 0;
    }
    
    /* Page Back Button */
    .page-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }
    .back-btn {
      background: none;
      border: none;
      color: var(--primary);
      font-size: 17px;
      font-weight: 600;
      cursor: pointer;
      padding: 8px 0;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .back-btn:hover { text-decoration: underline; }
    .page-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--gray-800);
      margin: 0;
    }
    
    /* Focus Card */
    .focus-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
      margin-bottom: 10px;
      transition: all 0.2s;
    }
    .focus-item:hover { background: var(--gray-100); }
    .focus-item .rank {
      width: 28px;
      height: 28px;
      background: var(--primary);
      color: white;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      flex-shrink: 0;
    }
    .focus-item .rank.gold { background: linear-gradient(135deg, #FFD700, #FFA000); }
    .focus-item .rank.silver { background: linear-gradient(135deg, #C0C0C0, #9E9E9E); }
    .focus-item .rank.bronze { background: linear-gradient(135deg, #CD7F32, #8B4513); }
    .focus-item .info { flex: 1; }
    .focus-item .title { font-size: 14px; font-weight: 600; }
    .focus-item .meta { font-size: 11px; color: var(--gray-500); margin-top: 2px; }
    .focus-item .start-btn {
      padding: 8px 14px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Quick Actions */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    .action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 16px 8px;
      background: white;
      border: none;
      border-radius: var(--radius-lg);
      cursor: pointer;
      box-shadow: var(--shadow-sm);
      transition: all 0.2s;
    }
    .action-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
    .action-btn .icon { font-size: 28px; margin-bottom: 8px; }
    .action-btn .label { font-size: 11px; font-weight: 600; color: var(--gray-700); }
    .action-btn.primary { background: var(--primary); }
    .action-btn.primary .label { color: white; }
    
    /* Goal Card - Expandable */
    .goal-card {
      background: white;
      border-radius: var(--radius-lg);
      margin-bottom: 12px;
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }
    .goal-card-header {
      padding: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .goal-card-header:hover { background: var(--gray-50); }
    .goal-card-top {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }
    .goal-rank {
      width: 32px;
      height: 32px;
      background: var(--primary);
      color: white;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      flex-shrink: 0;
    }
    .goal-rank.r1 { background: linear-gradient(135deg, #FFD700, #FFA000); }
    .goal-rank.r2 { background: linear-gradient(135deg, #C0C0C0, #757575); }
    .goal-rank.r3 { background: linear-gradient(135deg, #CD7F32, #8B4513); }
    .goal-info { flex: 1; }
    .goal-title { font-size: 15px; font-weight: 700; color: var(--gray-800); }
    .goal-meta { font-size: 12px; color: var(--gray-500); margin-top: 4px; }
    .goal-expand { font-size: 18px; color: var(--gray-400); transition: transform 0.3s; }
    .goal-card.expanded .goal-expand { transform: rotate(180deg); }
    .goal-progress {
      height: 6px;
      background: var(--gray-200);
      border-radius: 3px;
      overflow: hidden;
    }
    .goal-progress-bar {
      height: 100%;
      background: var(--success);
      border-radius: 3px;
      transition: width 0.3s;
    }
    .goal-progress-text {
      font-size: 11px;
      color: var(--gray-500);
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
    }
    
    /* Goal Expandable Content */
    .goal-card-body {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      border-top: 1px solid var(--gray-100);
    }
    .goal-card.expanded .goal-card-body {
      max-height: 1000px;
    }
    .goal-card-content { padding: 16px; }
    .goal-section {
      margin-bottom: 16px;
    }
    .goal-section:last-child { margin-bottom: 0; }
    .goal-section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .goal-section-title {
      font-size: 13px;
      font-weight: 700;
      color: var(--gray-700);
    }
    .goal-section-action {
      font-size: 11px;
      color: var(--primary);
      cursor: pointer;
      font-weight: 600;
    }
    
    /* Milestone in Goal */
    .milestone-mini {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      margin-bottom: 6px;
    }
    .milestone-mini.done { background: var(--success-light); }
    .milestone-mini .check {
      width: 20px;
      height: 20px;
      border: 2px solid var(--gray-300);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 12px;
    }
    .milestone-mini.done .check {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    .milestone-mini .text {
      flex: 1;
      font-size: 13px;
    }
    .milestone-mini.done .text {
      text-decoration: line-through;
      color: var(--gray-500);
    }
    .milestone-mini .week {
      font-size: 10px;
      padding: 2px 6px;
      background: var(--info-light);
      color: var(--info);
      border-radius: var(--radius-full);
    }
    
    /* ===== GOAL DETAIL PAGE ===== */
    .goal-detail-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .back-btn {
      background: none;
      border: none;
      color: var(--primary);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      padding: 8px 0;
    }
    .goal-detail-actions {
      display: flex;
      gap: 8px;
    }
    .edit-btn, .delete-btn {
      background: var(--gray-100);
      border: none;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 12px;
    }
    .delete-btn { color: var(--danger); }
    
    .goal-detail-info {
      background: white;
      padding: 16px;
      border-radius: var(--radius-md);
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .goal-detail-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--gray-800);
      margin: 0 0 8px 0;
    }
    .goal-detail-meta {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-bottom: 8px;
    }
    .goal-quarter-badge {
      background: var(--primary-light);
      color: var(--primary);
      padding: 4px 10px;
      border-radius: var(--radius-full);
      font-size: 12px;
      font-weight: 600;
    }
    .goal-deadline {
      font-size: 12px;
      color: var(--gray-500);
    }
    .goal-detail-desc {
      font-size: 13px;
      color: var(--gray-600);
      margin: 8px 0 0 0;
      line-height: 1.5;
    }
    
    .goal-detail-progress {
      background: white;
      padding: 16px;
      border-radius: var(--radius-md);
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
      font-weight: 600;
    }
    .progress-percent {
      color: var(--primary);
    }
    .progress-bar-container {
      height: 8px;
      background: var(--gray-100);
      border-radius: var(--radius-full);
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--success));
      border-radius: var(--radius-full);
      transition: width 0.3s;
    }
    .progress-stats {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 11px;
      color: var(--gray-500);
    }
    
    .goal-section {
      background: white;
      padding: 16px;
      border-radius: var(--radius-md);
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .section-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--gray-700);
      margin: 0 0 12px 0;
    }
    .section-header .section-title { margin: 0; }
    .add-task-mini-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Milestone List */
    .milestone-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .milestone-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all 0.2s;
    }
    .milestone-item:hover { background: var(--gray-100); }
    .milestone-item.done { background: var(--success-light); }
    .milestone-check {
      width: 24px;
      height: 24px;
      border: 2px solid var(--gray-300);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      flex-shrink: 0;
    }
    .milestone-item.done .milestone-check {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    .milestone-info { flex: 1; }
    .milestone-title {
      font-size: 13px;
      font-weight: 600;
    }
    .milestone-item.done .milestone-title {
      text-decoration: line-through;
      color: var(--gray-500);
    }
    .milestone-week {
      font-size: 11px;
      color: var(--gray-500);
    }
    
    /* Task Groups */
    .task-group {
      margin-bottom: 16px;
    }
    .task-group:last-child { margin-bottom: 0; }
    .task-group-header {
      font-size: 12px;
      font-weight: 600;
      color: var(--gray-600);
      padding: 8px 0;
      border-bottom: 1px solid var(--gray-100);
      margin-bottom: 8px;
    }
    .task-group-header.collapsed {
      cursor: pointer;
      color: var(--gray-400);
    }
    .toggle-icon {
      float: right;
      font-size: 10px;
    }
    
    /* Goal Task Item */
    .goal-task-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      margin-bottom: 6px;
      transition: all 0.2s;
    }
    .goal-task-item:hover { background: var(--gray-100); }
    .goal-task-item.done {
      background: var(--success-light);
      opacity: 0.8;
    }
    
    .task-status-btn {
      width: 28px;
      height: 28px;
      border: 2px solid var(--gray-300);
      border-radius: 50%;
      background: white;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s;
    }
    .task-status-btn.todo { border-color: var(--gray-300); color: var(--gray-400); }
    .task-status-btn.backlog { border-color: var(--gray-300); color: var(--gray-400); }
    .task-status-btn.progress { 
      border-color: var(--primary); 
      color: var(--primary);
      background: var(--primary-light);
    }
    .task-status-btn.done { 
      border-color: var(--success); 
      background: var(--success);
      color: white;
    }
    
    .task-content { flex: 1; min-width: 0; }
    .task-title-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .task-title {
      font-size: 13px;
      font-weight: 500;
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .task-title.completed {
      text-decoration: line-through;
      color: var(--gray-400);
    }
    .task-priority {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
    }
    .task-meta-row {
      display: flex;
      gap: 10px;
      margin-top: 4px;
      font-size: 11px;
      color: var(--gray-500);
    }
    .task-status-label {
      background: var(--gray-200);
      padding: 1px 6px;
      border-radius: var(--radius-sm);
      font-size: 10px;
    }
    
    .task-actions-mini {
      display: flex;
      gap: 4px;
    }
    .task-done-btn, .task-menu-btn {
      width: 28px;
      height: 28px;
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .task-done-btn {
      background: var(--success);
      color: white;
    }
    .task-menu-btn {
      background: var(--gray-200);
      color: var(--gray-600);
    }
    
    /* Task Mini in Goal */
    .task-mini {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      margin-bottom: 6px;
      font-size: 12px;
    }
    .task-mini .priority {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .task-mini .priority.high { background: var(--danger); }
    .task-mini .priority.medium { background: var(--warning); }
    .task-mini .priority.low { background: var(--success); }
    .task-mini .title { flex: 1; }
    .task-mini .status {
      font-size: 10px;
      padding: 2px 6px;
      border-radius: var(--radius-full);
      background: var(--gray-200);
      color: var(--gray-600);
    }
    .task-mini .status.done { background: var(--success-light); color: var(--success); }
    .task-mini .status.progress { background: var(--warning-light); color: var(--warning); }
    
    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      display: flex;
      justify-content: space-around;
      padding: 10px 0 16px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
      z-index: 100;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 8px 12px;
      color: var(--gray-500);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      background: none;
      border-radius: var(--radius-sm);
      transition: all 0.2s;
    }
    .nav-item:hover { background: var(--gray-100); }
    .nav-item.active { color: var(--primary); }
    .nav-item .icon { font-size: 28px; margin-bottom: 4px; }
    
    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 200;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
      padding: 20px;
    }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal {
      background: white;
      border-radius: var(--radius-xl);
      width: 100%;
      max-width: 440px;
      max-height: 85vh;
      overflow-y: auto;
      transform: scale(0.9);
      transition: transform 0.3s;
    }
    .modal-overlay.active .modal { transform: scale(1); }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid var(--gray-100);
      position: sticky;
      top: 0;
      background: white;
      z-index: 1;
    }
    .modal-title { font-size: 20px; font-weight: 700; }
    .modal-close {
      width: 36px;
      height: 36px;
      border: none;
      background: var(--gray-100);
      border-radius: var(--radius-full);
      cursor: pointer;
      font-size: 18px;
    }
    .modal-body { padding: 20px; }
    
    /* Brain Dump Destination Options */
    .braindump-destination-options {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-top: 8px;
    }
    .destination-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 14px 8px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }
    .destination-option:hover {
      border-color: var(--primary-light);
      background: var(--gray-50);
    }
    .destination-option.active {
      border-color: var(--primary);
      background: linear-gradient(135deg, #dbeafe, #eff6ff);
    }
    .destination-option input[type="radio"] {
      display: none;
    }
    .destination-option .dest-icon {
      font-size: 28px;
      margin-bottom: 6px;
    }
    .destination-option .dest-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--gray-600);
      text-align: center;
    }
    .destination-option.active .dest-label {
      color: var(--primary);
    }
    
    @media (max-width: 400px) {
      .braindump-destination-options {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* Forms */
    .form-group { margin-bottom: 16px; }
    .form-label {
      display: block;
      font-size: 15px;
      font-weight: 600;
      color: var(--gray-700);
      margin-bottom: 8px;
    }
    .form-input {
      width: 100%;
      padding: 14px 16px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-md);
      font-size: 16px;
      font-family: inherit;
      transition: border-color 0.2s;
    }
    .form-input:focus { outline: none; border-color: var(--primary); }
    .form-textarea { min-height: 100px; resize: vertical; line-height: 1.6; }
    .form-select { background: white; cursor: pointer; }
    
    .btn-submit {
      width: 100%;
      padding: 16px 24px;
      background: var(--gradient-header);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      transition: all 0.2s;
    }
    .btn-submit:hover { transform: translateY(-2px); }
    .btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-secondary {
      background: var(--gray-100);
      color: var(--gray-700);
      box-shadow: none;
    }
    
    /* History List Styles */
    .history-list {
      max-height: 400px;
      overflow-y: auto;
    }
    .history-date-header {
      font-size: 12px;
      font-weight: 600;
      color: var(--gray-500);
      padding: 12px 0 8px;
      border-bottom: 1px solid var(--gray-100);
      margin-bottom: 8px;
    }
    .history-item {
      display: flex;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--gray-50);
    }
    .history-item:last-child { border-bottom: none; }
    .history-item-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gray-50);
      border-radius: var(--radius-md);
      font-size: 20px;
    }
    .history-item-content { flex: 1; }
    .history-item-task {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-800);
      margin-bottom: 4px;
    }
    .history-item-meta {
      display: flex;
      gap: 12px;
      font-size: 12px;
      color: var(--gray-500);
    }
    
    /* Habit History Styles */
    .habit-history-day {
      padding: 12px 0;
      border-bottom: 1px solid var(--gray-100);
    }
    .habit-history-date {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    .habit-history-date .day-name {
      font-weight: 600;
      color: var(--gray-700);
    }
    .habit-history-date .date {
      font-size: 12px;
      color: var(--gray-500);
    }
    .habit-history-date .count {
      margin-left: auto;
      font-size: 12px;
      color: var(--success);
      font-weight: 600;
    }
    .habit-history-items {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .habit-chip {
      font-size: 11px;
      padding: 4px 8px;
      background: var(--success-light);
      color: var(--success);
      border-radius: var(--radius-full);
    }
    
    /* Toast */
    .toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--gray-900);
      color: white;
      padding: 14px 24px;
      border-radius: var(--radius-full);
      font-size: 14px;
      font-weight: 500;
      opacity: 0;
      transition: all 0.3s;
      z-index: 300;
    }
    .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    .toast.success { background: var(--success); }
    .toast.error { background: var(--danger); }
    
    /* Kanban */
    .kanban-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 8px;
    }
    .kanban-column {
      background: var(--gray-50);
      border-radius: var(--radius-lg);
      padding: 12px;
      min-width: 140px;
    }
    .kanban-column-header {
      font-size: 12px;
      font-weight: 700;
      color: var(--gray-600);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .kanban-column-header .count {
      background: var(--gray-200);
      padding: 2px 8px;
      border-radius: var(--radius-full);
      font-size: 11px;
    }
    .kanban-task {
      background: white;
      border-radius: var(--radius-md);
      padding: 12px;
      margin-bottom: 8px;
      box-shadow: var(--shadow-sm);
      cursor: pointer;
    }
    .kanban-task .title { font-size: 13px; font-weight: 600; margin-bottom: 8px; }
    .kanban-task .meta {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: var(--gray-500);
    }
    .kanban-task .priority {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    /* Menu */
    .menu-grid { display: flex; flex-direction: column; gap: 12px; }
    .menu-group {
      background: white;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }
    .menu-group-title {
      padding: 14px 16px;
      font-size: 13px;
      font-weight: 700;
      color: var(--gray-500);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      background: var(--gray-50);
    }
    .menu-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      cursor: pointer;
      border-bottom: 1px solid var(--gray-100);
      transition: background 0.2s;
    }
    .menu-item:last-child { border-bottom: none; }
    .menu-item:hover { background: var(--gray-50); }
    .menu-item .left { display: flex; align-items: center; gap: 14px; }
    .menu-item .icon {
      font-size: 24px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gray-100);
      border-radius: var(--radius-md);
    }
    .menu-item .info .title { font-size: 16px; font-weight: 600; }
    .menu-item .info .subtitle { font-size: 13px; color: var(--gray-500); margin-top: 3px; }
    .menu-item .right { display: flex; align-items: center; gap: 8px; }
    .menu-item .badge {
      padding: 4px 10px;
      border-radius: var(--radius-full);
      font-size: 13px;
      font-weight: 600;
    }
    .menu-item .badge.success { background: var(--success-light); color: var(--success); }
    .menu-item .badge.info { background: var(--info-light); color: var(--info); }
    .menu-item .arrow { color: var(--gray-400); font-size: 18px; }
    
    /* Pages */
    .page { display: none; }
    .page.active { display: block; animation: fadeIn 0.3s; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    /* Tabs */
    .tabs { display: flex; gap: 8px; margin-bottom: 16px; overflow-x: auto; }
    .tab-btn {
      padding: 12px 20px;
      border: none;
      border-radius: var(--radius-full);
      background: var(--gray-100);
      color: var(--gray-600);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }
    .tab-btn.active { background: var(--primary); color: white; }
    
    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 32px 20px;
      color: var(--gray-500);
    }
    .empty-state .icon { font-size: 48px; margin-bottom: 12px; opacity: 0.5; }
    .empty-state p { font-size: 15px; line-height: 1.6; }
    
    /* Sholat Grid (untuk page ibadah) */
    .sholat-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .sholat-item {
      text-align: center;
      padding: 12px 8px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      border: 2px solid transparent;
    }
    .sholat-item:hover { 
      background: var(--gray-100); 
      transform: scale(1.02);
    }
    .sholat-item:active { 
      transform: scale(0.98); 
    }
    .sholat-item.done { 
      background: var(--success-light); 
      border-color: var(--success);
    }
    .sholat-item.done::after {
      content: 'âœ“';
      position: absolute;
      top: 4px;
      right: 4px;
      background: var(--success);
      color: white;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    .sholat-item .icon { font-size: 24px; margin-bottom: 4px; }
    .sholat-item .name { font-size: 11px; font-weight: 600; }
    .sholat-item .time { font-size: 10px; color: var(--success); margin-top: 2px; font-weight: 500; }
    
    /* Habit Item */
    .habit-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
      margin-bottom: 10px;
    }
    .habit-item.done { background: var(--success-light); }
    .habit-checkbox {
      width: 28px;
      height: 28px;
      border: 2px solid var(--gray-300);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.2s;
    }
    .habit-item.done .habit-checkbox {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    .habit-info { flex: 1; }
    .habit-name { font-size: 14px; font-weight: 600; }
    .habit-arabic { font-family: var(--font-arabic); font-size: 13px; color: var(--gray-600); }
    .habit-time { font-size: 11px; color: var(--gray-500); margin-top: 2px; }
    
    /* Review & Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .stat-box {
      text-align: center;
      padding: 16px 8px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
    }
    .stat-box .value { font-size: 24px; font-weight: 700; color: var(--primary); }
    .stat-box .label { font-size: 10px; color: var(--gray-500); margin-top: 4px; }
    
    /* Best Week Comparison */
    .bestweek-adherence {
      margin-bottom: 20px;
    }
    .adherence-score {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px;
      background: linear-gradient(135deg, #f0fdf4, #dcfce7);
      border-radius: var(--radius-lg);
    }
    .adherence-circle {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #10b981, #059669);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .adherence-value {
      font-size: 28px;
      font-weight: 700;
      color: white;
      line-height: 1;
    }
    .adherence-label {
      font-size: 12px;
      color: rgba(255,255,255,0.9);
    }
    .adherence-info {
      flex: 1;
    }
    .adherence-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--gray-800);
    }
    .adherence-subtitle {
      font-size: 13px;
      color: var(--gray-600);
      margin-top: 4px;
    }
    
    .category-breakdown {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .category-item {
      display: grid;
      grid-template-columns: 32px 80px 1fr 45px;
      align-items: center;
      gap: 8px;
    }
    .cat-icon {
      font-size: 20px;
    }
    .cat-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-700);
    }
    .cat-bar {
      height: 8px;
      background: var(--gray-200);
      border-radius: 4px;
      overflow: hidden;
    }
    .cat-fill {
      height: 100%;
      background: linear-gradient(90deg, #10b981, #059669);
      border-radius: 4px;
      transition: width 0.3s ease;
    }
    .cat-percent {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-600);
      text-align: right;
    }
    
    /* Vision Pyramid */
    .vision-pyramid { display: flex; flex-direction: column; gap: 12px; }
    .vision-level {
      background: white;
      border-radius: var(--radius-lg);
      padding: 16px;
      cursor: pointer;
      box-shadow: var(--shadow-sm);
      transition: all 0.2s;
    }
    .vision-level:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
    .vision-level.level-10 { border-left: 4px solid var(--spiritual); }
    .vision-level.level-3 { border-left: 4px solid var(--primary); }
    .vision-level.level-1 { border-left: 4px solid var(--success); }
    .vision-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .vision-period { font-size: 14px; font-weight: 700; }
    .vision-edit { font-size: 12px; color: var(--primary); }
    .vision-content { font-size: 13px; color: var(--gray-600); line-height: 1.6; }
    .vision-item { margin-bottom: 8px; padding: 8px; background: var(--gray-50); border-radius: var(--radius-sm); }
    .vision-item strong { color: var(--primary); }
    .vision-empty { color: var(--gray-400); font-style: italic; }
    
    /* Pairwise */
    .pairwise-vs {
      display: flex;
      gap: 16px;
      align-items: stretch;
    }
    .pairwise-option {
      flex: 1;
      padding: 20px;
      background: white;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    .pairwise-option:hover { border-color: var(--primary); background: var(--info-light); }
    .pairwise-option .title { font-size: 14px; font-weight: 600; }
    .pairwise-divider {
      display: flex;
      align-items: center;
      font-size: 18px;
      font-weight: 700;
      color: var(--gray-400);
    }
    
    /* Pomodoro */
    .pomodoro-timer {
      text-align: center;
      padding: 40px 20px;
    }
    .pomodoro-circle {
      width: 200px;
      height: 200px;
      margin: 0 auto 24px;
      position: relative;
    }
    .pomodoro-circle svg { transform: rotate(-90deg); }
    .pomodoro-circle .time {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .pomodoro-circle .time .digits { font-size: 48px; font-weight: 700; }
    .pomodoro-circle .time .label { font-size: 13px; color: var(--gray-500); }
    .pomodoro-types {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 20px;
    }
    .pomodoro-type-btn {
      padding: 12px 20px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      background: white;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    .pomodoro-type-btn:hover { border-color: var(--primary); }
    .pomodoro-type-btn.active { border-color: var(--primary); background: var(--info-light); }
    .pomodoro-type-icon { font-size: 24px; display: block; margin-bottom: 4px; }
    .pomodoro-type-name { font-size: 12px; font-weight: 600; }
    
    /* Pomodoro Timer Ring */
    .pomodoro-start-container,
    .pomodoro-active-container,
    .pomodoro-complete {
      text-align: center;
      padding: 24px 16px;
    }
    .pomodoro-icon { font-size: 48px; margin-bottom: 16px; }
    .pomodoro-timer-ring {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 0 auto 24px;
    }
    .pomodoro-timer-ring svg {
      transform: rotate(-90deg);
      width: 100%;
      height: 100%;
    }
    .pomodoro-timer-ring .timer-bg {
      fill: none;
      stroke: var(--gray-200);
      stroke-width: 8;
    }
    .pomodoro-timer-ring .timer-progress {
      fill: none;
      stroke: var(--primary);
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dashoffset 1s linear;
    }
    .pomodoro-timer-ring .timer-display {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
    .timer-time {
      font-size: 36px;
      font-weight: 700;
      color: var(--gray-900);
    }
    .timer-label {
      font-size: 14px;
      color: var(--gray-500);
      margin-top: 4px;
    }
    .pomodoro-task {
      margin: 20px 0;
      padding: 16px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
    }
    .pomodoro-task-label {
      font-size: 12px;
      color: var(--gray-500);
      margin-bottom: 4px;
    }
    .pomodoro-task-name {
      font-size: 16px;
      font-weight: 600;
      color: var(--gray-900);
    }
    .pomodoro-controls {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 20px;
    }
    .pomodoro-ctrl-btn {
      padding: 12px 24px;
      border: none;
      border-radius: var(--radius-md);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .pomodoro-ctrl-btn.primary {
      background: var(--primary);
      color: white;
    }
    .pomodoro-ctrl-btn.secondary {
      background: var(--gray-200);
      color: var(--gray-700);
    }
    .pomodoro-complete .complete-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }
    .quick-pomodoro-goals {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
    }
    .quick-goal-btn {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--gray-50);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      cursor: pointer;
      text-align: left;
    }
    .quick-goal-btn:hover {
      border-color: var(--primary);
      background: var(--info-light);
    }
    .quick-goal-rank {
      width: 24px;
      height: 24px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
    }
    .quick-goal-title {
      flex: 1;
      font-size: 14px;
    }
    
    /* Loading */
    .loading { display: flex; justify-content: center; padding: 32px; }
    .spinner {
      width: 36px;
      height: 36px;
      border: 3px solid var(--gray-200);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    
    /* Task Card Enhanced */
    .task-delegate {
      font-size: 11px;
      color: var(--primary);
      background: rgba(37, 99, 235, 0.1);
      padding: 2px 6px;
      border-radius: 4px;
      margin-top: 4px;
    }
    .task-link {
      margin-top: 4px;
    }
    .task-link a {
      font-size: 11px;
      color: var(--primary);
      text-decoration: none;
    }
    .task-link a:hover {
      text-decoration: underline;
    }
    .task-pomodoro {
      font-size: 10px;
      color: #e74c3c;
    }
    .priority-urgent { border-left: 3px solid #ff6b6b !important; }
    .priority-someday { border-left: 3px solid #adb5bd !important; }
    
    /* Task action buttons */
    .task-action-btn.warning { background: #ffc107; color: #000; }
    .task-action-btn.danger { background: #dc3545; color: white; }
    .btn-danger { background: #dc3545 !important; color: white !important; }
    .btn-danger:hover { background: #c82333 !important; }
    
    /* Task quick actions (link & pomodoro) */
    .task-quick-actions {
      display: flex;
      gap: 6px;
      margin: 8px 0;
      flex-wrap: wrap;
    }
    .task-link-btn, .task-pomo-btn {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      cursor: pointer;
      border: none;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .task-link-btn {
      background: #e3f2fd;
      color: #1976d2;
    }
    .task-link-btn:hover {
      background: #bbdefb;
    }
    .task-pomo-btn {
      background: #ffebee;
      color: #c62828;
    }
    .task-pomo-btn:hover {
      background: #ffcdd2;
    }
    
    /* Today task buttons */
    .today-task-btn {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 11px;
      cursor: pointer;
      border: none;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .today-task-btn.link-btn {
      background: #e3f2fd;
      color: #1976d2;
    }
    .today-task-btn.pomo-btn {
      background: #ffebee;
      color: #c62828;
    }
    .today-task-btn.next-btn {
      background: var(--primary);
      color: white;
    }
    .today-task-btn.done-btn {
      background: var(--success);
      color: white;
    }
    
    /* Home Two Column Layout */
    .home-two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }
    .home-left-col {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .home-right-col {
      display: flex;
      flex-direction: column;
    }
    .compact-card {
      padding: 12px !important;
    }
    .compact-card .card-header {
      margin-bottom: 8px;
      padding-bottom: 8px;
    }
    .card-badge {
      background: var(--primary);
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
    }
    
    /* Sholat Mini Grid */
    .sholat-mini-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 6px;
    }
    .sholat-mini-item {
      text-align: center;
      padding: 6px 4px;
      border-radius: var(--radius-sm);
      background: var(--gray-50);
      cursor: pointer;
      transition: all 0.2s;
    }
    .sholat-mini-item.done {
      background: var(--success-light);
    }
    .sholat-mini-item .icon {
      font-size: 16px;
      display: block;
    }
    .sholat-mini-item .name {
      font-size: 9px;
      color: var(--gray-600);
      margin-top: 2px;
    }
    
    /* Sholat Mini List - format row seperti sunnah */
    .sholat-mini-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
      max-height: 180px;
      overflow-y: auto;
    }
    .sholat-row-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 8px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 12px;
      transition: all 0.2s;
    }
    .sholat-row-item:hover { background: var(--gray-100); }
    .sholat-row-item.done {
      background: var(--success-light);
    }
    .sholat-row-item .check {
      width: 18px;
      height: 18px;
      border: 2px solid var(--gray-300);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      flex-shrink: 0;
    }
    .sholat-row-item.done .check {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    .sholat-row-item .sholat-icon { font-size: 14px; }
    .sholat-row-item .sholat-name { flex: 1; }
    
    /* Don't List Mini */
    .dont-list-mini {
      display: flex;
      flex-direction: column;
      gap: 6px;
      max-height: 180px;
      overflow-y: auto;
      padding: 4px 0;
    }
    .dont-mini-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px;
      background: #fff5f5;
      border-left: 3px solid #e53e3e;
      border-radius: var(--radius-sm);
      font-size: 12px;
    }
    .dont-mini-item.obeyed {
      background: var(--success-light);
      border-left-color: var(--success);
    }
    .dont-mini-item.violated {
      background: #fee2e2;
      border-left-color: #dc2626;
    }
    .dont-item-text {
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
      min-width: 0;
    }
    .dont-item-text span:last-child {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .dont-item-actions {
      display: flex;
      gap: 4px;
      flex-shrink: 0;
    }
    .dont-btn {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 1px solid var(--gray-300);
      background: white;
      cursor: pointer;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .dont-btn.obey:hover, .dont-btn.obey.active {
      background: var(--success);
      color: white;
      border-color: var(--success);
    }
    .dont-btn.violate:hover, .dont-btn.violate.active {
      background: #dc2626;
      color: white;
      border-color: #dc2626;
    }
    
    /* Journal Display */
    .journal-display {
      padding: 8px 0;
    }
    .journal-item {
      margin-bottom: 8px;
      font-size: 13px;
      line-height: 1.4;
    }
    .journal-item .label {
      font-weight: 600;
      color: var(--primary);
    }
    
    /* Journal Evening Card */
    .journal-card.evening {
      background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);
      color: white;
    }
    .journal-card.evening .status.pending {
      background: rgba(255,255,255,0.2);
      color: white;
    }
    .journal-card.evening .status.done {
      background: var(--success);
    }
    
    /* Refleksi Page */
    .refleksi-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      padding: 12px 0;
    }
    .refleksi-stat {
      text-align: center;
      padding: 12px;
      background: var(--gray-50);
      border-radius: var(--radius-md);
    }
    .refleksi-stat .value {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary);
    }
    .refleksi-stat .label {
      font-size: 11px;
      color: var(--gray-500);
      margin-top: 4px;
    }
    .refleksi-schedule-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      border-bottom: 1px solid var(--gray-100);
    }
    .refleksi-schedule-item:last-child {
      border-bottom: none;
    }
    .refleksi-schedule-item .time {
      font-weight: 600;
      color: var(--primary);
      min-width: 50px;
    }
    .refleksi-schedule-item .activity {
      flex: 1;
    }
    .refleksi-dont-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px;
      border-bottom: 1px solid var(--gray-100);
    }
    .refleksi-dont-item.obeyed { color: var(--success); }
    .refleksi-dont-item.violated { color: #dc2626; text-decoration: line-through; }
    .refleksi-task-item {
      padding: 10px;
      border-bottom: 1px solid var(--gray-100);
      font-size: 13px;
    }
    
    /* Pomodoro Timer Active */
    .pomodoro-active-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px;
    }
    .pomodoro-timer-ring {
      position: relative;
      width: 200px;
      height: 200px;
      margin-bottom: 24px;
    }
    .pomodoro-timer-ring svg {
      transform: rotate(-90deg);
      width: 100%;
      height: 100%;
    }
    .pomodoro-timer-ring .timer-bg {
      fill: none;
      stroke: var(--gray-200);
      stroke-width: 8;
    }
    .pomodoro-timer-ring .timer-progress {
      fill: none;
      stroke: var(--primary);
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dashoffset 1s linear;
    }
    .timer-display {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
    .timer-time {
      font-size: 40px;
      font-weight: 700;
      color: var(--primary);
      font-family: 'SF Mono', monospace;
    }
    .timer-label {
      font-size: 14px;
      color: var(--gray-500);
      margin-top: 4px;
    }
    .pomodoro-task {
      text-align: center;
      margin-bottom: 24px;
    }
    .pomodoro-task-label {
      font-size: 12px;
      color: var(--gray-500);
      margin-bottom: 4px;
    }
    .pomodoro-task-name {
      font-size: 16px;
      font-weight: 600;
      color: var(--gray-800);
    }
    .pomodoro-controls {
      display: flex;
      gap: 12px;
    }
    .pomodoro-ctrl-btn {
      padding: 12px 24px;
      border-radius: var(--radius-md);
      border: none;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .pomodoro-ctrl-btn.primary {
      background: var(--primary);
      color: white;
    }
    .pomodoro-ctrl-btn.secondary {
      background: var(--gray-200);
      color: var(--gray-700);
    }
    
    /* Pomodoro Start */
    .pomodoro-start-container {
      text-align: center;
      padding: 24px;
    }
    .pomodoro-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }
    .pomodoro-types {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .pomodoro-type-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 16px 24px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      background: white;
      cursor: pointer;
      transition: all 0.2s;
    }
    .pomodoro-type-btn:hover {
      border-color: var(--primary);
      background: var(--primary-light);
    }
    .pomodoro-type-icon {
      font-size: 32px;
    }
    .pomodoro-type-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-700);
    }
    .quick-pomodoro-goals {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
    }
    .quick-goal-btn {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      background: white;
      cursor: pointer;
      text-align: left;
    }
    .quick-goal-btn:hover {
      background: var(--gray-50);
    }
    .quick-goal-rank {
      width: 24px;
      height: 24px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
    }
    .quick-goal-title {
      flex: 1;
      font-size: 14px;
    }
      justify-content: space-between;
      gap: 8px;
      padding: 8px;
      background: #fff5f5;
      border-left: 3px solid #e53e3e;
      border-radius: var(--radius-sm);
      font-size: 12px;
      transition: all 0.2s;
    }
    .dont-mini-item.obeyed {
      background: var(--success-light);
      border-left-color: var(--success);
    }
    .dont-mini-item.violated {
      background: #fee2e2;
      border-left-color: #dc2626;
    }
    .dont-item-text {
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
    }
    .dont-item-actions {
      display: flex;
      gap: 4px;
    }
    .dont-btn {
      width: 24px;
      height: 24px;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.5;
      transition: all 0.2s;
    }
    .dont-btn:hover { opacity: 1; }
    .dont-btn.obey { background: var(--success-light); color: var(--success); }
    .dont-btn.violate { background: #fee2e2; color: #dc2626; }
    .dont-btn.active { opacity: 1; transform: scale(1.1); }
    .dont-btn.obey.active { background: var(--success); color: white; }
    .dont-btn.violate.active { background: #dc2626; color: white; }
    
    /* Refleksi Page */
    .refleksi-section {
      padding: 12px;
      font-size: 13px;
    }
    .refleksi-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 0;
      border-bottom: 1px solid var(--gray-100);
    }
    .refleksi-item:last-child { border-bottom: none; }
    .refleksi-item.done { color: var(--success); }
    .refleksi-item.missed { color: var(--gray-400); text-decoration: line-through; }
      font-size: 12px;
    }
    .dont-mini-item .icon { font-size: 14px; }
    
    /* Sunnah Mini List */
    .sunnah-mini-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
      max-height: 280px;
      overflow-y: auto;
    }
    .sunnah-waktu-label {
      font-size: 10px;
      font-weight: 600;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 6px 8px 2px;
      margin-top: 4px;
      border-bottom: 1px solid var(--gray-200);
    }
    .sunnah-waktu-label:first-child {
      margin-top: 0;
    }
    
    /* Best Week Schedule */
    .best-week-schedule {
      display: flex;
      flex-direction: column;
      gap: 2px;
      max-height: 400px;
      overflow-y: auto;
    }
    .schedule-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 12px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      font-size: 13px;
    }
    .schedule-item:hover {
      background: var(--gray-100);
    }
    .schedule-time {
      font-weight: 600;
      color: var(--primary);
      min-width: 45px;
      font-size: 12px;
    }
    .schedule-activity {
      flex: 1;
    }
    .schedule-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 12px;
      font-size: 10px;
      color: var(--gray-500);
    }
    
    /* Today Schedule on Home */
    .today-schedule-container {
      display: flex;
      flex-direction: column;
      gap: 4px;
      max-height: 300px;
      overflow-y: auto;
    }
    .today-schedule-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }
    .today-schedule-item:hover {
      background: var(--gray-100);
    }
    .today-schedule-item.current {
      background: linear-gradient(135deg, #dbeafe 0%, #eff6ff 100%);
      border-left-color: var(--primary);
    }
    .today-schedule-item.done {
      background: var(--success-light);
      border-left-color: var(--success);
      text-decoration: line-through;
      opacity: 0.7;
    }
    .today-schedule-item .check-circle {
      width: 20px;
      height: 20px;
      border: 2px solid var(--gray-300);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      flex-shrink: 0;
      transition: all 0.2s;
    }
    .today-schedule-item.done .check-circle {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    .today-schedule-item .schedule-time {
      font-weight: 600;
      color: var(--primary);
      min-width: 45px;
      font-size: 12px;
    }
    .today-schedule-item .schedule-activity {
      flex: 1;
      font-size: 12px;
    }
    .today-schedule-item.current .schedule-time {
      color: var(--primary);
    }
    .sunnah-mini-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 8px;
      background: var(--gray-50);
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 12px;
    }
    .sunnah-mini-item.done {
      background: var(--success-light);
      text-decoration: line-through;
      opacity: 0.7;
    }
    .sunnah-mini-item .check {
      width: 16px;
      height: 16px;
      border: 2px solid var(--gray-300);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
    }
    .sunnah-mini-item.done .check {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    
    /* Brain Dump Mini List */
    .brain-dump-list {
      max-height: 180px;
      overflow-y: auto;
    }
    .brain-dump-item {
      padding: 8px;
      background: #fffbeb;
      border-radius: var(--radius-sm);
      margin-bottom: 6px;
      font-size: 12px;
      border-left: 3px solid #f59e0b;
    }
    
    /* Responsive */
    @media (max-width: 480px) {
      .home-two-column { grid-template-columns: 1fr; }
      .quick-actions { grid-template-columns: repeat(4, 1fr); }
      .sholat-container { grid-template-columns: repeat(4, 1fr); }
      .kanban-container { grid-template-columns: repeat(2, 1fr); }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    /* ============================================
       MOBILE FONT SIZE OPTIMIZATION
       Memperbesar font untuk kenyamanan membaca di HP
       ============================================ */
    @media (max-width: 768px) {
      /* Base font size increase */
      body {
        font-size: 16px;
        line-height: 1.6;
      }
      
      /* Header */
      .header-top h1 { font-size: 22px; }
      .header-date { font-size: 14px; }
      .arabic { font-size: 24px; }
      .translation { font-size: 13px; }
      .header-stats .stat-item { font-size: 14px; }
      .header-stats .value { font-size: 15px; }
      
      /* Cards */
      .card-title { font-size: 17px; }
      .card-header .badge { font-size: 12px; }
      .section-title { font-size: 16px; }
      
      /* Sholat Grid */
      .sholat-item .name { font-size: 12px; }
      .sholat-item .time { font-size: 11px; }
      .sholat-item .icon { font-size: 22px; }
      
      /* Habit Items */
      .habit-label { font-size: 14px; }
      .habit-checkbox { width: 26px; height: 26px; }
      
      /* Journal */
      .journal-card .content { font-size: 14px; line-height: 1.7; }
      .journal-card .header { font-size: 15px; }
      .journal-section .section-title { font-size: 15px; }
      .form-label { font-size: 14px; }
      .form-label-sm { font-size: 13px; }
      .form-input { font-size: 15px; padding: 12px; }
      .form-textarea { font-size: 15px; line-height: 1.6; }
      
      /* Task Items */
      .task-title { font-size: 15px; }
      .task-meta-row { font-size: 12px; }
      .goal-task-item .task-title { font-size: 15px; }
      
      /* Kanban */
      .kanban-title { font-size: 14px; }
      .kanban-count { font-size: 13px; }
      .task-card .title { font-size: 14px; }
      .task-card .meta { font-size: 12px; }
      
      /* Goals */
      .goal-card .title { font-size: 16px; }
      .goal-card .desc { font-size: 13px; }
      .goal-detail-title { font-size: 20px; }
      .goal-detail-desc { font-size: 14px; }
      .milestone-title { font-size: 14px; }
      
      /* Buttons */
      .btn-submit { font-size: 15px; padding: 14px 20px; }
      .btn-secondary { font-size: 14px; }
      .quick-action { font-size: 12px; }
      .quick-action .icon { font-size: 26px; }
      
      /* Navigation */
      .nav-item { font-size: 11px; }
      .nav-item .icon { font-size: 28px; }
      
      /* Modal */
      .modal-title { font-size: 18px; }
      .modal-body { font-size: 15px; }
      
      /* Menu Page */
      .menu-item .title { font-size: 15px; }
      .menu-item .subtitle { font-size: 12px; }
      .menu-group-title { font-size: 13px; }
      
      /* Pelajaran Page */
      .pelajaran-tab { font-size: 13px; padding: 12px 14px; }
      .pelajaran-intro { font-size: 14px; }
      .pelajaran-section h4 { font-size: 15px; }
      .pelajaran-list li { font-size: 13px; }
      .technique-title { font-size: 14px; }
      .technique-card p { font-size: 13px; }
      .technique-steps .step { font-size: 12px; }
      .example-box, .formula-box, .concept-box { font-size: 13px; }
      
      /* Stats */
      .stat-box .value { font-size: 26px; }
      .stat-box .label { font-size: 12px; }
      
      /* Empty State */
      .empty-state p { font-size: 14px; }
      
      /* Toast */
      .toast { font-size: 14px; }
      
      /* Don't List */
      .dont-item .title { font-size: 14px; }
      .dont-item .category { font-size: 11px; }
      
      /* Brain Dump */
      #brainDumpInput { font-size: 15px; }
      .brain-dump-item { font-size: 14px; }
      
      /* Settings */
      .settings-item { font-size: 14px; }
      
      /* Pomodoro */
      .pomodoro-display .time { font-size: 56px; }
      .pomodoro-display .label { font-size: 14px; }
      .pomodoro-task-name { font-size: 15px; }
      
      /* Mood & Energy */
      .mood-btn { width: 42px; height: 42px; font-size: 22px; }
      .energy-slider { height: 8px; }
      
      /* Back Button */
      .back-btn { font-size: 15px; }
      .page-title { font-size: 18px; }
    }
    
    /* ==================== DZIKIR PAGI SORE STYLES ==================== */
    .dzikir-time-toggle {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }
    .dzikir-time-btn {
      flex: 1;
      padding: 12px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      background: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .dzikir-time-btn.active {
      border-color: var(--primary);
      background: linear-gradient(135deg, #dbeafe, #eff6ff);
      color: var(--primary);
    }
    
    .dzikir-progress-card {
      background: linear-gradient(135deg, #10b981, #059669);
      border-radius: var(--radius-lg);
      padding: 16px;
      color: white;
      margin-bottom: 16px;
    }
    .dzikir-progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .dzikir-progress-bar {
      height: 8px;
      background: rgba(255,255,255,0.3);
      border-radius: 4px;
      overflow: hidden;
    }
    .dzikir-progress-fill {
      height: 100%;
      background: white;
      border-radius: 4px;
      transition: width 0.3s;
    }
    .dzikir-stats {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 12px;
      opacity: 0.9;
    }
    .dzikir-stats .btn-link { color: white; opacity: 0.8; }
    
    .dzikir-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .dzikir-item {
      background: white;
      border-radius: var(--radius-lg);
      padding: 14px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }
    .dzikir-item:hover { border-color: var(--primary-light); }
    .dzikir-item.completed {
      background: linear-gradient(135deg, #d1fae5, #ecfdf5);
      border-color: var(--success);
    }
    
    .dzikir-item-icon {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #fef3c7, #fde68a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }
    .dzikir-item.completed .dzikir-item-icon {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }
    
    .dzikir-item-content { flex: 1; min-width: 0; }
    .dzikir-item-arabic {
      font-family: 'Scheherazade New', 'Traditional Arabic', serif;
      font-size: 20px;
      line-height: 1.6;
      direction: rtl;
      text-align: right;
      color: var(--gray-800);
      margin-bottom: 6px;
    }
    .dzikir-item-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-700);
    }
    .dzikir-item-count {
      font-size: 13px;
      color: var(--gray-500);
    }
    
    .dzikir-item-progress {
      text-align: right;
      min-width: 55px;
    }
    .dzikir-item-progress-text {
      font-size: 15px;
      font-weight: 700;
      color: var(--primary);
    }
    .dzikir-item.completed .dzikir-item-progress-text { color: var(--success); }
    
    /* Dzikir Fullscreen Counter */
    .dzikir-fullscreen {
      position: fixed;
      inset: 0;
      background: linear-gradient(180deg, #064e3b 0%, #065f46 50%, #047857 100%);
      z-index: 9999;
      display: none;
      flex-direction: column;
      overflow: hidden;
    }
    .dzikir-fullscreen.active {
      display: flex;
    }
    
    .dzikir-fs-header {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      padding-top: calc(12px + env(safe-area-inset-top, 0));
    }
    .dzikir-fs-back {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.15);
      border: none;
      color: white;
      font-size: 22px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    .dzikir-fs-back:hover {
      background: rgba(255,255,255,0.25);
    }
    .dzikir-fs-title {
      flex: 1;
      text-align: center;
      color: white;
      font-size: 16px;
      font-weight: 600;
      margin-right: 40px;
    }
    
    .dzikir-fs-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 10px 20px;
      overflow-y: auto;
    }
    
    .dzikir-fs-arabic {
      font-family: 'Scheherazade New', 'Amiri', 'Traditional Arabic', serif;
      font-size: 42px;
      line-height: 1.9;
      color: white;
      text-align: center;
      direction: rtl;
      padding: 28px 24px;
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      margin-bottom: 12px;
      max-width: 100%;
      backdrop-filter: blur(10px);
      flex-shrink: 0;
    }
    
    .dzikir-fs-latin {
      font-size: 14px;
      color: rgba(255,255,255,0.8);
      font-style: italic;
      text-align: center;
      margin-bottom: 4px;
      padding: 0 20px;
    }
    
    .dzikir-fs-meaning {
      font-size: 13px;
      color: rgba(255,255,255,0.6);
      text-align: center;
      margin-bottom: 16px;
      padding: 0 20px;
      line-height: 1.5;
    }
    
    .dzikir-fs-counter {
      position: relative;
      margin: 12px 0;
    }
    
    .dzikir-fs-circle {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 6px 30px rgba(251, 191, 36, 0.4);
      transition: transform 0.1s;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    .dzikir-fs-circle:active {
      transform: scale(0.95);
    }
    .dzikir-fs-circle.completed {
      background: linear-gradient(135deg, #10b981, #059669);
      box-shadow: 0 6px 30px rgba(16, 185, 129, 0.4);
    }
    
    .dzikir-fs-count {
      font-size: 36px;
      font-weight: 700;
      color: white;
      line-height: 1;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .dzikir-fs-target {
      font-size: 14px;
      color: rgba(255,255,255,0.9);
      margin-top: 2px;
    }
    
    .dzikir-fs-progress {
      width: 140px;
      height: 5px;
      background: rgba(255,255,255,0.2);
      border-radius: 3px;
      margin-top: 12px;
      overflow: hidden;
    }
    .dzikir-fs-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #fbbf24, #f59e0b);
      border-radius: 3px;
      transition: width 0.2s;
    }
    .dzikir-fs-progress-bar.completed {
      background: linear-gradient(90deg, #10b981, #059669);
    }
    
    .dzikir-fs-controls {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-top: 16px;
    }
    .dzikir-fs-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.1);
      color: white;
      font-size: 22px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .dzikir-fs-btn:hover {
      background: rgba(255,255,255,0.2);
      border-color: rgba(255,255,255,0.5);
    }
    .dzikir-fs-btn.primary {
      width: 56px;
      height: 56px;
      background: rgba(255,255,255,0.2);
      border-color: rgba(255,255,255,0.5);
      font-size: 28px;
    }
    
    /* Navigation Prev/Next */
    .dzikir-fs-nav {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      margin-top: 16px;
      padding: 0 16px;
      width: 100%;
    }
    .dzikir-fs-nav-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 12px 18px;
      min-height: 44px;
      min-width: 44px;
      background: rgba(255,255,255,0.15);
      border: none;
      border-radius: 22px;
      color: white;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      -webkit-tap-highlight-color: rgba(255,255,255,0.3);
      touch-action: manipulation;
      user-select: none;
    }
    .dzikir-fs-nav-btn:hover,
    .dzikir-fs-nav-btn:active {
      background: rgba(255,255,255,0.3);
    }
    .dzikir-fs-nav-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      pointer-events: none;
    }
    .dzikir-fs-nav-indicator {
      font-size: 13px;
      color: rgba(255,255,255,0.7);
    }
    
    .dzikir-fs-virtue {
      background: rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 12px 16px;
      margin-top: 16px;
      max-width: 320px;
      backdrop-filter: blur(10px);
    }
    .dzikir-fs-virtue-title {
      font-size: 12px;
      font-weight: 600;
      color: #fbbf24;
      margin-bottom: 4px;
    }
    .dzikir-fs-virtue-text {
      font-size: 12px;
      color: rgba(255,255,255,0.8);
      line-height: 1.5;
    }
    
    .dzikir-fs-footer {
      padding: 12px 20px;
      padding-bottom: calc(12px + env(safe-area-inset-bottom, 0));
    }
    .dzikir-fs-complete-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: #1f2937;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .dzikir-fs-complete-btn:hover {
      transform: translateY(-2px);
    }
    .dzikir-fs-complete-btn.done {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }
    
    /* Mobile Responsive - Smaller UI, Focus on Arabic */
    @media (max-width: 480px) {
      .dzikir-fs-header {
        padding: 8px 12px;
      }
      .dzikir-fs-back {
        width: 36px;
        height: 36px;
        font-size: 20px;
      }
      .dzikir-fs-title {
        font-size: 14px;
        margin-right: 36px;
      }
      
      .dzikir-fs-content {
        padding: 8px 16px;
      }
      
      /* Arabic text is the MAIN focus */
      .dzikir-fs-arabic {
        font-size: 36px;
        padding: 20px 16px;
        line-height: 1.8;
        margin-bottom: 10px;
      }
      
      .dzikir-fs-latin {
        font-size: 13px;
        margin-bottom: 2px;
      }
      
      .dzikir-fs-meaning {
        font-size: 12px;
        margin-bottom: 12px;
      }
      
      /* Smaller counter circle */
      .dzikir-fs-circle {
        width: 100px;
        height: 100px;
      }
      .dzikir-fs-count {
        font-size: 32px;
      }
      .dzikir-fs-target {
        font-size: 12px;
      }
      
      .dzikir-fs-progress {
        width: 120px;
        height: 4px;
        margin-top: 10px;
      }
      
      /* Smaller control buttons */
      .dzikir-fs-controls {
        gap: 12px;
        margin-top: 12px;
      }
      .dzikir-fs-btn {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }
      .dzikir-fs-btn.primary {
        width: 48px;
        height: 48px;
        font-size: 24px;
      }
      
      /* Smaller nav buttons */
      .dzikir-fs-nav {
        gap: 12px;
        margin-top: 12px;
      }
      .dzikir-fs-nav-btn {
        padding: 8px 12px;
        font-size: 13px;
      }
      .dzikir-fs-nav-indicator {
        font-size: 12px;
      }
      
      /* Smaller virtue card */
      .dzikir-fs-virtue {
        padding: 10px 12px;
        margin-top: 12px;
        max-width: 280px;
      }
      .dzikir-fs-virtue-title {
        font-size: 11px;
      }
      .dzikir-fs-virtue-text {
        font-size: 11px;
      }
      
      .dzikir-fs-footer {
        padding: 10px 16px;
      }
      .dzikir-fs-complete-btn {
        padding: 12px;
        font-size: 15px;
      }
    }
    
    /* Very small phones */
    @media (max-width: 360px) {
      .dzikir-fs-arabic {
        font-size: 30px;
        padding: 16px 12px;
      }
      .dzikir-fs-circle {
        width: 90px;
        height: 90px;
      }
      .dzikir-fs-count {
        font-size: 28px;
      }
    }
    
    /* Hide elements when fullscreen dzikir is active */
    body.dzikir-fullscreen-active .header,
    body.dzikir-fullscreen-active .bottom-nav,
    body.dzikir-fullscreen-active .main {
      display: none !important;
    }
    
    .dzikir-virtue-card {
      background: linear-gradient(135deg, #fef3c7, #fde68a);
      border-radius: var(--radius-lg);
      padding: 12px 16px;
      margin-bottom: 16px;
      text-align: left;
    }
    .dzikir-virtue-title {
      font-size: 12px;
      font-weight: 700;
      color: var(--warning);
      margin-bottom: 4px;
    }
    .dzikir-virtue-text {
      font-size: 12px;
      color: var(--gray-700);
      line-height: 1.5;
    }
    
    /* ==================== WISDOM STOIK STYLES ==================== */
    .wisdom-stats {
      display: flex;
      justify-content: center;
      gap: 32px;
      padding: 16px;
      margin-bottom: 16px;
    }
    .wisdom-stat-item { text-align: center; }
    .wisdom-stat-number {
      display: block;
      font-size: 28px;
      font-weight: 700;
      color: var(--primary);
    }
    .wisdom-stat-label {
      font-size: 11px;
      color: var(--gray-500);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .wisdom-frameworks-legend {
      display: flex;
      justify-content: center;
      gap: 12px;
      padding: 12px;
      background: var(--gray-100);
      border-radius: var(--radius-md);
      margin-bottom: 16px;
    }
    .wisdom-fw {
      font-size: 20px;
      cursor: help;
    }
    
    .wisdom-filter-section {
      background: white;
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .wisdom-filter-row {
      margin-bottom: 12px;
    }
    .wisdom-filter-row:last-child { margin-bottom: 0; }
    .wisdom-filter-label {
      display: block;
      font-size: 11px;
      color: var(--gray-500);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }
    .wisdom-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .wisdom-chip {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      border: 1px solid var(--gray-300);
      background: white;
      color: var(--gray-600);
      cursor: pointer;
      transition: all 0.2s;
    }
    .wisdom-chip:hover {
      border-color: var(--primary-light);
      color: var(--primary);
    }
    .wisdom-chip.active {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    
    .wisdom-search {
      margin-bottom: 16px;
    }
    .wisdom-search input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--gray-300);
      border-radius: var(--radius-md);
      font-size: 14px;
      background: white;
    }
    .wisdom-search input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1);
    }
    
    .wisdom-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    
    .wisdom-card {
      background: white;
      border-radius: var(--radius-md);
      padding: 16px;
      box-shadow: var(--shadow-sm);
      cursor: pointer;
      transition: all 0.3s;
      border-left: 4px solid var(--primary);
    }
    .wisdom-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    .wisdom-card.area-istri { border-left-color: #c49a6c; }
    .wisdom-card.area-anak { border-left-color: #a08bc4; }
    .wisdom-card.area-diri { border-left-color: #2d9a8c; }
    
    .wisdom-card-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 10px;
    }
    .wisdom-card-icon { font-size: 32px; }
    .wisdom-card-title-area { flex: 1; }
    .wisdom-card-id {
      font-size: 10px;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .wisdom-card-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--gray-900);
      margin-top: 2px;
    }
    
    .wisdom-card-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }
    .wisdom-tag {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 10px;
      background: var(--gray-100);
      color: var(--gray-600);
    }
    .wisdom-tag.area-istri { background: #fef3e7; color: #c49a6c; }
    .wisdom-tag.area-anak { background: #f3effa; color: #a08bc4; }
    .wisdom-tag.area-diri { background: #e7f5f3; color: #2d9a8c; }
    
    .wisdom-card-principle {
      font-size: 13px;
      color: var(--gray-600);
      font-style: italic;
      padding-left: 10px;
      border-left: 2px solid var(--primary-light);
    }
    
    .wisdom-card-frameworks {
      display: flex;
      gap: 4px;
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px solid var(--gray-200);
    }
    .wisdom-fw-dot {
      width: 22px;
      height: 22px;
      border-radius: 4px;
      background: var(--gray-100);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
    }
    
    /* Wisdom Modal */
    .wisdom-modal-header {
      text-align: center;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--gray-200);
      margin-bottom: 20px;
    }
    .wisdom-modal-icon { font-size: 48px; margin-bottom: 8px; }
    .wisdom-modal-title {
      font-family: var(--font-arabic);
      font-size: 22px;
      color: var(--primary);
      margin-bottom: 4px;
    }
    .wisdom-modal-subtitle {
      font-size: 12px;
      color: var(--gray-500);
    }
    
    .wisdom-section {
      margin-bottom: 24px;
    }
    .wisdom-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--primary);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .wisdom-section-title::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--gray-200);
    }
    
    .wisdom-principle-box {
      background: linear-gradient(135deg, rgba(13, 71, 161, 0.08) 0%, rgba(13, 71, 161, 0.02) 100%);
      border: 1px solid rgba(13, 71, 161, 0.2);
      border-radius: var(--radius-md);
      padding: 16px;
      text-align: center;
    }
    .wisdom-principle-text {
      font-family: var(--font-arabic);
      font-size: 18px;
      color: var(--primary);
      margin-bottom: 6px;
    }
    .wisdom-principle-desc {
      font-size: 13px;
      color: var(--gray-600);
    }
    
    .wisdom-quick-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .wisdom-quick-item {
      background: var(--gray-50);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-sm);
      padding: 12px 8px;
      text-align: center;
    }
    .wisdom-quick-emoji { font-size: 20px; margin-bottom: 6px; }
    .wisdom-quick-text { font-size: 11px; color: var(--gray-600); line-height: 1.3; }
    
    .wisdom-response-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .wisdom-response-col h4 {
      font-size: 12px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .wisdom-response-col.bad h4 { color: var(--danger); }
    .wisdom-response-col.good h4 { color: var(--success); }
    .wisdom-response-list {
      list-style: none;
    }
    .wisdom-response-list li {
      font-size: 12px;
      color: var(--gray-600);
      padding: 6px 8px 6px 20px;
      margin-bottom: 4px;
      background: var(--gray-50);
      border-radius: 6px;
      position: relative;
    }
    .wisdom-response-list li::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 5px;
      border-radius: 50%;
    }
    .wisdom-response-col.bad .wisdom-response-list li::before { background: var(--danger); }
    .wisdom-response-col.good .wisdom-response-list li::before { background: var(--success); }
    
    .wisdom-timeline {
      padding-left: 24px;
      position: relative;
    }
    .wisdom-timeline::before {
      content: '';
      position: absolute;
      left: 6px;
      top: 6px;
      bottom: 6px;
      width: 2px;
      background: var(--gray-200);
    }
    .wisdom-timeline-item {
      position: relative;
      margin-bottom: 12px;
    }
    .wisdom-timeline-dot {
      position: absolute;
      left: -21px;
      top: 2px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: white;
      border: 2px solid var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8px;
    }
    .wisdom-timeline-time {
      font-size: 10px;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .wisdom-timeline-action {
      font-size: 12px;
      color: var(--gray-600);
    }
    
    .wisdom-mistakes {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .wisdom-mistake-tag {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 6px;
      background: rgba(198, 40, 40, 0.1);
      color: var(--danger);
      border: 1px solid rgba(198, 40, 40, 0.2);
    }
    
    .wisdom-empty {
      text-align: center;
      padding: 40px 20px;
      color: var(--gray-400);
    }
    .wisdom-empty-icon { font-size: 40px; margin-bottom: 12px; opacity: 0.5; }
    
    @media (max-width: 480px) {
      .wisdom-quick-grid { grid-template-columns: 1fr; }
      .wisdom-response-grid { grid-template-columns: 1fr; }
      .wisdom-stats { gap: 20px; }
      .wisdom-stat-number { font-size: 24px; }
    }
    
    /* Wisdom of the Day - Home Card */
    .wisdom-home-card {
      background: linear-gradient(135deg, #fefbf6 0%, #fff9f0 100%) !important;
      border: 1px solid rgba(212, 168, 83, 0.3) !important;
      transition: all 0.3s ease;
    }
    .wisdom-home-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(212, 168, 83, 0.2);
    }
    .wisdom-of-day {
      text-align: center;
      padding: 8px 0;
    }
    .wisdom-home-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }
    .wisdom-home-principle {
      font-family: var(--font-arabic);
      font-size: 16px;
      color: #b8923f;
      font-weight: 700;
      margin-bottom: 6px;
    }
    .wisdom-home-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--gray-800);
      margin-bottom: 4px;
    }
    .wisdom-home-desc {
      font-size: 11px;
      color: var(--gray-500);
      line-height: 1.4;
      margin-bottom: 10px;
    }
    .wisdom-home-frameworks {
      display: flex;
      justify-content: center;
      gap: 6px;
      font-size: 14px;
    }
    .wisdom-home-frameworks span {
      width: 24px;
      height: 24px;
      background: rgba(212, 168, 83, 0.15);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }
    
    /* Wisdom Quote Popup */
    .wisdom-quote-popup {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding-top: 80px;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .wisdom-quote-popup.show {
      opacity: 1;
      visibility: visible;
    }
    .wisdom-quote-content {
      background: linear-gradient(135deg, #1a1f2e 0%, #0d1117 100%);
      border: 1px solid rgba(212, 168, 83, 0.3);
      border-radius: 20px;
      padding: 28px 24px;
      max-width: 340px;
      width: 90%;
      text-align: center;
      transform: translateY(-20px) scale(0.95);
      transition: all 0.3s ease;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), 0 0 40px rgba(212, 168, 83, 0.1);
    }
    .wisdom-quote-popup.show .wisdom-quote-content {
      transform: translateY(0) scale(1);
    }
    .wisdom-quote-icon {
      font-size: 40px;
      margin-bottom: 16px;
    }
    .wisdom-quote-text {
      font-family: var(--font-arabic);
      font-size: 16px;
      line-height: 1.6;
      color: #f0f0f0;
      margin-bottom: 12px;
    }
    .wisdom-quote-source {
      font-size: 12px;
      color: #d4a853;
      margin-bottom: 20px;
    }
    .wisdom-quote-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
    }
    .wisdom-quote-actions button {
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 12px;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    .wisdom-quote-actions button:first-child {
      background: rgba(212, 168, 83, 0.2);
      color: #d4a853;
      border: 1px solid rgba(212, 168, 83, 0.3);
    }
    .wisdom-quote-actions button:first-child:hover {
      background: rgba(212, 168, 83, 0.3);
    }
    .wisdom-quote-actions button:last-child {
      background: linear-gradient(135deg, #d4a853, #b8923f);
      color: #1a1a1a;
      font-weight: 600;
    }
    .wisdom-quote-actions button:last-child:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(212, 168, 83, 0.3);
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-top">
      <h1>ðŸŒ™ Sync Planner</h1>
      <div style="display: flex; align-items: center; gap: 8px;">
        <button class="sync-btn" id="syncButton" onclick="forceSyncNow()" style="display: none;">
          ðŸ”„ <span id="syncBtnCount">0</span>
        </button>
        <span class="header-date" id="currentDate">Loading...</span>
      </div>
    </div>
    <div class="header-greeting">
      <div class="arabic">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽÙ°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ…Ù</div>
      <div class="translation">"Dengan menyebut nama Allah Yang Maha Pengasih lagi Maha Penyayang"</div>
    </div>
    <div class="header-stats">
      <div class="stats-left">
        <div class="stat-item clickable" onclick="showPage('dzikir')" title="Dzikir Pagi Sore">ðŸ“¿ <span class="value" id="dzikirProgress">0%</span></div>
        <div class="stat-item">ðŸ•Œ <span class="value" id="sholatCount">0/8</span></div>
        <div class="stat-item">ðŸŒ™ <span class="value" id="habitCount">0/11</span></div>
      </div>
      <div class="quick-icons">
        <button class="quick-icon-btn" onclick="openQuickBrainDump()" title="Brain Dump">ðŸ§ </button>
        <button class="quick-icon-btn wisdom-quote-btn" onclick="showWisdomQuote()" title="Wisdom Quote" style="background: linear-gradient(135deg, #d4a853, #b8923f);">ðŸ›ï¸</button>
      </div>
    </div>
  </header>
  
  <!-- Wisdom Quote Popup -->
  <div class="wisdom-quote-popup" id="wisdomQuotePopup" onclick="this.classList.remove('show')">
    <div class="wisdom-quote-content" onclick="event.stopPropagation()">
      <div class="wisdom-quote-icon" id="wisdomQuoteIcon">ðŸ’¡</div>
      <div class="wisdom-quote-text" id="wisdomQuoteText">"Loading..."</div>
      <div class="wisdom-quote-source" id="wisdomQuoteSource">â€” Source</div>
      <div class="wisdom-quote-actions">
        <button onclick="getNewWisdomQuote()">ðŸ”„ Quote Lain</button>
        <button onclick="document.getElementById('wisdomQuotePopup').classList.remove('show'); showPage('wisdom')">ðŸ“– Lihat Semua â†’</button>
      </div>
    </div>
  </div>
  
  <!-- Main Content -->
  <main class="main">
    <!-- ==================== PAGE: HOME ==================== -->
    <div class="page active" id="page-home">
      <!-- Daily Quote dari NLP/Sedona/Atomic Habits -->
      <div class="quote-card" id="dailyQuoteCard">
        <div class="quote-icon">ðŸ’¡</div>
        <div class="quote-content" id="dailyQuoteContent">
          <div class="quote-text">"Perubahan kecil yang konsisten menciptakan hasil luar biasa."</div>
          <div class="quote-source">â€” Atomic Habits</div>
        </div>
        <button class="quote-refresh" onclick="refreshDailyQuote()" title="Quote lain">ðŸ”„</button>
      </div>
      
      <!-- Jurnal Pagi - Syukur & Fokus -->
      <div class="journal-card morning" id="journalMorningCard">
        <div class="header">
          <div class="title">â˜€ï¸ Jurnal Pagi</div>
          <span class="status pending" id="journalMorningStatus">Belum ditulis</span>
        </div>
        <div id="journalMorningContent">
          <div class="content" style="color: var(--gray-400); font-style: italic;">
            Mulai hari dengan rasa syukur dan fokus yang jelas...
          </div>
          <button class="btn-submit" style="margin-top: 12px;" onclick="openJournalForm('morning')">âœï¸ Tulis Jurnal Pagi</button>
        </div>
      </div>
      
      <!-- Row: Tracker Sholat & Sunnah + Don't List -->
      <div class="home-two-column">
        <!-- Left: Sholat & Sunnah -->
        <div class="home-left-col">
          <!-- Tracker Sholat -->
          <div class="card compact-card">
            <div class="card-header">
              <span class="card-title">ðŸ•Œ Sholat</span>
              <span class="card-badge" id="sholatBadge">0/8</span>
            </div>
            <div class="sholat-mini-list" id="sholatMiniList">
              <!-- Rendered by JS - format seperti sunnah -->
            </div>
          </div>
          
          <!-- Sunnah Rosul -->
          <div class="card compact-card">
            <div class="card-header">
              <span class="card-title">ðŸ“¿ Sunnah</span>
              <span class="card-badge" id="sunnahBadge">0/11</span>
            </div>
            <div class="sunnah-mini-list" id="sunnahMiniList">
              <!-- Rendered by JS -->
            </div>
          </div>
        </div>
        
        <!-- Right: Wisdom of the Day -->
        <div class="home-right-col">
          <div class="card wisdom-home-card" style="height: 100%; cursor: pointer;" onclick="showPage('wisdom')">
            <div class="card-header">
              <span class="card-title">ðŸ›ï¸ Wisdom Hari Ini</span>
              <button class="btn-icon" onclick="event.stopPropagation(); refreshWisdomOfDay()" title="Wisdom Lain">ðŸ”„</button>
            </div>
            <div class="wisdom-of-day" id="wisdomOfDay">
              <div class="wisdom-home-icon">ðŸ’¡</div>
              <div class="wisdom-home-principle">"Empathy Over Logic"</div>
              <div class="wisdom-home-title">Istri Menangis Tanpa Alasan</div>
              <div class="wisdom-home-desc">Istri butuh didengar dan dirasakan kehadiranmu, bukan solusi.</div>
              <div class="wisdom-home-frameworks">
                <span>ðŸ›ï¸</span><span>ðŸ§ </span><span>ðŸ’¨</span><span>âš›ï¸</span><span>ðŸ¤</span><span>â˜ªï¸</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Fokus Hari Ini (Task) -->
      <div class="section-title">ðŸ“‹ Task Hari Ini</div>
      <div class="card" id="todayFocus">
        <div class="empty-state" style="padding: 20px;">
          <p>Belum ada task hari ini</p>
          <button class="btn-submit" style="width: auto; margin-top: 12px;" onclick="openModal('task')">+ Tambah Task</button>
        </div>
      </div>
      
      <!-- Jadwal Ideal Hari Ini -->
      <div class="section-title" style="display: flex; justify-content: space-between; align-items: center;">
        <span>ðŸ“… Jadwal Ideal Hari Ini</span>
        <button class="btn-icon" onclick="showPage('bestweek')" title="Edit di Best Week" style="font-size: 11px; padding: 4px 8px; background: var(--gray-100); border-radius: 4px;">âœï¸ Edit</button>
      </div>
      <div class="card" id="todayScheduleCard">
        <div class="today-schedule-container" id="todayScheduleList">
          <!-- Rendered by JS -->
        </div>
      </div>
      
      <!-- Quick Actions -->
      <div class="section-title">âš¡ Aksi Cepat</div>
      <div class="quick-actions">
        <button class="action-btn primary" onclick="showPage('pomodoro')">
          <span class="icon">ðŸ…</span>
          <span class="label">Fokus</span>
        </button>
        <button class="action-btn" onclick="openModal('task')">
          <span class="icon">ðŸ“‹</span>
          <span class="label">Task</span>
        </button>
        <button class="action-btn" onclick="showPage('refleksi')">
          <span class="icon">ðŸŒ™</span>
          <span class="label">Refleksi</span>
        </button>
        <button class="action-btn" onclick="showPage('kanban')">
          <span class="icon">ðŸ“Š</span>
          <span class="label">Kanban</span>
        </button>
      </div>
      
      <!-- Jurnal Malam -->
      <div class="section-title">ðŸŒ™ Refleksi Hari Ini</div>
      <div class="card" style="margin-bottom: 12px;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <span style="font-size: 13px;">Review aktivitas sebelum jurnal malam</span>
          <button class="btn-submit btn-secondary" style="width: auto; padding: 6px 12px; font-size: 11px;" onclick="showPage('refleksi')">ðŸ“Š Buka Refleksi</button>
        </div>
      </div>
      <div class="journal-card evening" id="journalEveningCard">
        <div class="header">
          <div class="title">ðŸŒ™ Jurnal Malam</div>
          <span class="status pending" id="journalEveningStatus">Belum ditulis</span>
        </div>
        <div id="journalEveningContent">
          <div class="content" style="color: var(--gray-400); font-style: italic;">
            Refleksikan hari ini sebelum istirahat...
          </div>
          <button class="btn-submit btn-secondary" style="margin-top: 12px;" onclick="openJournalForm('evening')">âœï¸ Tulis Jurnal Malam</button>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: POMODORO ==================== -->
    <div class="page" id="page-pomodoro">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('home')">â† Kembali</button>
        <h1 class="page-title">ðŸ… Pomodoro Timer</h1>
      </div>
      
      <div class="card">
        <div id="pomodoroContainer">
          <div class="pomodoro-timer" id="pomodoroStart">
            <div style="font-size: 48px; margin-bottom: 16px;">ðŸ…</div>
            <h2 style="font-size: 20px; margin-bottom: 8px;">Mulai Sesi Fokus</h2>
            <p style="color: var(--gray-500); margin-bottom: 24px; font-size: 13px;">Pilih durasi dan mulai fokus</p>
            
            <div class="pomodoro-types">
              <button class="pomodoro-type-btn" onclick="selectPomodoroType('POMODORO_25')">
                <span class="pomodoro-type-icon">ðŸ…</span>
                <span class="pomodoro-type-name" id="pomodoroLabel25">25m</span>
              </button>
              <button class="pomodoro-type-btn" onclick="selectPomodoroType('DEEP_WORK_60')">
                <span class="pomodoro-type-icon">ðŸ§ </span>
                <span class="pomodoro-type-name" id="pomodoroLabel60">60m</span>
              </button>
              <button class="pomodoro-type-btn" onclick="selectPomodoroType('DEEP_WORK_90')">
                <span class="pomodoro-type-icon">ðŸš€</span>
                <span class="pomodoro-type-name" id="pomodoroLabel90">90m</span>
              </button>
            </div>
            
            <button class="btn-submit btn-secondary" style="margin-top: 12px; width: auto;" onclick="openModal('pomodoro-settings')">
              âš™ï¸ Atur Durasi
            </button>
          </div>
        </div>
      </div>
      
      <!-- Stats -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ“Š Statistik Hari Ini</span>
        </div>
        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
          <div class="stat-box">
            <div class="value" id="pomodoroTodayCount">0</div>
            <div class="label">Sesi</div>
          </div>
          <div class="stat-box">
            <div class="value" id="pomodoroTodayMinutes">0m</div>
            <div class="label">Total</div>
          </div>
          <div class="stat-box">
            <div class="value" id="pomodoroTodayTarget">0/8</div>
            <div class="label">Target</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: KANBAN ==================== -->
    <div class="page" id="page-kanban">
      <div class="section-title">ðŸ“Š Kanban Board</div>
      
      <div class="tabs" id="kanbanTabs">
        <button class="tab-btn active" onclick="filterKanban('')">Semua</button>
      </div>
      
      <div class="kanban-container" id="kanbanBoard">
        <div class="loading"><div class="spinner"></div></div>
      </div>
      
      <button class="btn-submit" style="margin-top: 16px;" onclick="openModal('task')">+ Tambah Task</button>
    </div>
    
    <!-- ==================== PAGE: GOALS ==================== -->
    <div class="page" id="page-goals">
      <div class="section-title">ðŸŽ¯ Goal 12 Minggu</div>
      
      <div class="tabs">
        <button class="tab-btn active" onclick="filterGoals('active')">Aktif</button>
        <button class="tab-btn" onclick="filterGoals('all')">Semua</button>
      </div>
      
      <div id="goalsList">
        <div class="loading"><div class="spinner"></div></div>
      </div>
      
      <button class="btn-submit" style="margin-top: 16px;" onclick="openModal('goal')">+ Tambah Goal</button>
    </div>
    
    <!-- ==================== PAGE: GOAL DETAIL ==================== -->
    <div class="page" id="page-goal-detail">
      <div id="goalDetailContent">
        <div class="loading"><div class="spinner"></div></div>
      </div>
    </div>
    
    <!-- ==================== PAGE: MENU ==================== -->
    <div class="page" id="page-menu">
      <div class="section-title">â˜° Menu</div>
      
      <div class="menu-grid">
        <!-- Ibadah -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ“¿ Ibadah & Sunnah</div>
          <div class="menu-item" onclick="showPage('ibadah')">
            <div class="left">
              <span class="icon">ðŸ•Œ</span>
              <div class="info">
                <div class="title">Tracker Sholat</div>
                <div class="subtitle">Log sholat 5 waktu + sunnah</div>
              </div>
            </div>
            <div class="right">
              <span class="badge success" id="menuSholatBadge">0/8</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
          <div class="menu-item" onclick="showPage('dzikir')">
            <div class="left">
              <span class="icon">ðŸ“¿</span>
              <div class="info">
                <div class="title">Dzikir Pagi & Sore</div>
                <div class="subtitle">Counter dzikir dengan keutamaan</div>
              </div>
            </div>
            <div class="right">
              <span class="badge info" id="menuDzikirBadge">0%</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
          <div class="menu-item" onclick="showPage('habits')">
            <div class="left">
              <span class="icon">ðŸŒ™</span>
              <div class="info">
                <div class="title">Sunnah Rasulullah ï·º</div>
                <div class="subtitle">Habit harian berbasis sunnah</div>
              </div>
            </div>
            <div class="right">
              <span class="badge success" id="menuHabitBadge">0/11</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
        </div>
        
        <!-- Visi -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ”® Visi & Perencanaan</div>
          <div class="menu-item" onclick="showPage('vision')">
            <div class="left">
              <span class="icon">ðŸ”®</span>
              <div class="info">
                <div class="title">Piramida Visi</div>
                <div class="subtitle">Visi 10, 3, 1 tahun</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
          <div class="menu-item" onclick="showPage('pairwise')">
            <div class="left">
              <span class="icon">âš–ï¸</span>
              <div class="info">
                <div class="title">Pairwise Comparison</div>
                <div class="subtitle">Prioritaskan goal</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
          <div class="menu-item" onclick="showPage('bestweek')">
            <div class="left">
              <span class="icon">ðŸ“†</span>
              <div class="info">
                <div class="title">Best Week Template</div>
                <div class="subtitle">Jadwal ideal mingguan</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
        </div>
        
        <!-- Capture -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ§  Capture</div>
          <div class="menu-item" onclick="showPage('braindump')">
            <div class="left">
              <span class="icon">ðŸ§ </span>
              <div class="info">
                <div class="title">Brain Dump</div>
                <div class="subtitle">Capture semua pikiran</div>
              </div>
            </div>
            <div class="right">
              <span class="badge info" id="menuBrainDumpBadge">0</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
          <div class="menu-item" onclick="showPage('dontlist')">
            <div class="left">
              <span class="icon">ðŸš«</span>
              <div class="info">
                <div class="title">Don't List</div>
                <div class="subtitle">Hal yang harus dihindari</div>
              </div>
            </div>
            <div class="right">
              <span class="badge info" id="menuDontBadge">0</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
        </div>
        
        <!-- Review -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ“… Review & Evaluasi</div>
          <div class="menu-item" onclick="showPage('review')">
            <div class="left">
              <span class="icon">ðŸ“…</span>
              <div class="info">
                <div class="title">Weekly Review</div>
                <div class="subtitle">Evaluasi mingguan</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
        </div>
        
        <!-- Pembelajaran -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ“š Pembelajaran</div>
          <div class="menu-item" onclick="showPage('learning')">
            <div class="left">
              <span class="icon">ðŸ“š</span>
              <div class="info">
                <div class="title">Learning Tracker</div>
                <div class="subtitle">Track pembelajaran</div>
              </div>
            </div>
            <div class="right">
              <span class="badge info" id="menuLearningBadge">0</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
        </div>
        
        <!-- Statistik -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ“ˆ Statistik</div>
          <div class="menu-item" onclick="showPage('stats')">
            <div class="left">
              <span class="icon">ðŸ“ˆ</span>
              <div class="info">
                <div class="title">Pomodoro Stats</div>
                <div class="subtitle">Rekap fokus</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
          <div class="menu-item" onclick="showPage('wellbeing')">
            <div class="left">
              <span class="icon">ðŸ’š</span>
              <div class="info">
                <div class="title">Wellbeing Trends</div>
                <div class="subtitle">Tren energi & kepuasan</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
        </div>
        
        <!-- Pelajaran -->
        <div class="menu-group">
          <div class="menu-group-title">ðŸ“š Pelajaran & Wisdom</div>
          <div class="menu-item" onclick="showPage('pelajaran')">
            <div class="left">
              <span class="icon">ðŸ“–</span>
              <div class="info">
                <div class="title">Pelajaran Inti</div>
                <div class="subtitle">NLP, Sedona Method, Atomic Habits</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
          <div class="menu-item" onclick="showPage('wisdom')">
            <div class="left">
              <span class="icon">ðŸ›ï¸</span>
              <div class="info">
                <div class="title">Wisdom Stoik</div>
                <div class="subtitle">80 Situasi + 6 Framework Kebijaksanaan</div>
              </div>
            </div>
            <div class="right">
              <span class="badge" style="background: linear-gradient(135deg, #d4a853, #b8923f); color: #1a1a1a;">NEW</span>
              <span class="arrow">â€º</span>
            </div>
          </div>
        </div>
        
        <!-- Settings -->
        <div class="menu-group">
          <div class="menu-group-title">âš™ï¸ Pengaturan</div>
          <div class="menu-item" onclick="showPage('settings')">
            <div class="left">
              <span class="icon">âš™ï¸</span>
              <div class="info">
                <div class="title">Pengaturan</div>
                <div class="subtitle">Profil, sync, tentang</div>
              </div>
            </div>
            <div class="right"><span class="arrow">â€º</span></div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: IBADAH ==================== -->
    <div class="page" id="page-ibadah">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ•Œ Tracker Sholat</h1>
      </div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Tap untuk log waktu sholat</p>
      
      <div class="card">
        <div class="sholat-container" id="sholatGrid">
          <div class="loading"><div class="spinner"></div></div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: HABITS ==================== -->
    <div class="page" id="page-habits">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ“¿ Sunnah Rasulullah ï·º</h1>
      </div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Amalan harian berbasis sunnah</p>
      
      <div class="tabs">
        <button class="tab-btn active" onclick="filterHabits('all')">Semua</button>
        <button class="tab-btn" onclick="filterHabits('PAGI')">ðŸŒ… Pagi</button>
        <button class="tab-btn" onclick="filterHabits('SIANG')">â˜€ï¸ Siang</button>
        <button class="tab-btn" onclick="filterHabits('MALAM')">ðŸŒ™ Malam</button>
      </div>
      
      <div id="habitFullList">
        <div class="loading"><div class="spinner"></div></div>
      </div>
      
      <!-- Habit History Section -->
      <div class="section-title" style="margin-top: 24px;">ðŸ“Š Riwayat 7 Hari Terakhir</div>
      <div class="card">
        <div id="habitLogHistoryList">
          <div class="empty-state" style="padding: 20px;">
            <p style="color: var(--gray-400); font-size: 13px;">Memuat riwayat...</p>
          </div>
        </div>
        <button class="btn-submit btn-secondary" style="margin-top: 12px;" onclick="loadHabitLogHistory(14)">ðŸ“… Lihat 14 Hari</button>
      </div>
    </div>
    
    <!-- ==================== PAGE: DZIKIR PAGI SORE ==================== -->
    <div class="page" id="page-dzikir">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ“¿ Dzikir Pagi & Sore</h1>
      </div>
      
      <!-- Time Toggle -->
      <div class="dzikir-time-toggle">
        <button class="dzikir-time-btn active" id="btnDzikirPagi" onclick="setDzikirTime('pagi')">
          ðŸŒ… Pagi
        </button>
        <button class="dzikir-time-btn" id="btnDzikirSore" onclick="setDzikirTime('sore')">
          ðŸŒ† Sore
        </button>
      </div>
      
      <!-- Progress Overview -->
      <div class="dzikir-progress-card">
        <div class="dzikir-progress-header">
          <span id="dzikirTimeLabel">ðŸŒ… Dzikir Pagi</span>
          <span class="dzikir-progress-text" id="dzikirProgressText">0/15 selesai</span>
        </div>
        <div class="dzikir-progress-bar">
          <div class="dzikir-progress-fill" id="dzikirProgressFill" style="width: 0%"></div>
        </div>
        <div class="dzikir-stats">
          <span id="dzikirTotalCount">Total: 0 dzikir</span>
          <button class="btn-link" onclick="resetDzikirToday()">ðŸ”„ Reset</button>
        </div>
      </div>
      
      <!-- Dzikir List -->
      <div class="dzikir-list" id="dzikirList">
        <!-- Will be rendered by JavaScript -->
      </div>
      
    </div>
    
    <!-- ==================== PAGE: VISION ==================== -->
    <div class="page" id="page-vision">
      <div class="section-title">ðŸ”® Piramida Visi</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Tentukan visi jangka panjang</p>
      
      <div class="vision-pyramid" id="visionPyramid">
        <div class="vision-level level-10" onclick="openModal('vision-10')">
          <div class="vision-header">
            <span class="vision-period">ðŸŒŸ Visi 10 Tahun</span>
            <span class="vision-edit">âœï¸</span>
          </div>
          <div class="vision-content" id="vision10Content">
            <span class="vision-empty">Tap untuk menentukan visi 10 tahun...</span>
          </div>
        </div>
        
        <div class="vision-level level-3" onclick="openModal('vision-3')">
          <div class="vision-header">
            <span class="vision-period">ðŸŽ¯ Target 3 Tahun</span>
            <span class="vision-edit">âœï¸</span>
          </div>
          <div class="vision-content" id="vision3Content">
            <span class="vision-empty">Tap untuk menentukan target 3 tahun...</span>
          </div>
        </div>
        
        <div class="vision-level level-1" onclick="openModal('vision-1')">
          <div class="vision-header">
            <span class="vision-period">ðŸ“… Target 1 Tahun</span>
            <span class="vision-edit">âœï¸</span>
          </div>
          <div class="vision-content" id="vision1Content">
            <span class="vision-empty">Tap untuk menentukan target 1 tahun...</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: PAIRWISE ==================== -->
    <div class="page" id="page-pairwise">
      <div class="section-title">âš–ï¸ Pairwise Comparison</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Pilih yang LEBIH PENTING</p>
      
      <div id="pairwiseContainer">
        <div class="empty-state">
          <span class="icon">ðŸŽ¯</span>
          <p>Tambahkan minimal 2 goal untuk memulai</p>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: BRAIN DUMP ==================== -->
    <div class="page" id="page-braindump">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ§  Brain Dump</h1>
      </div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Tulis semua yang ada di pikiran</p>
      
      <div class="card">
        <textarea class="form-input form-textarea" id="brainDumpInput" placeholder="Ketik ide, pikiran, atau apapun..." maxlength="500" oninput="updateCharCount()" style="min-height: 100px;"></textarea>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
          <span style="font-size: 11px; color: var(--gray-400);"><span id="brainDumpCharCount">0</span>/500</span>
          <button class="btn-submit" style="width: auto;" onclick="submitBrainDump()">ðŸ’¾ Simpan</button>
        </div>
      </div>
      
      <div class="section-title">ðŸ“ Hari Ini <span id="brainDumpTodayCount" style="font-weight: normal; color: var(--gray-500);">0 items</span></div>
      <div id="brainDumpList">
        <div class="empty-state" style="padding: 24px;">
          <p>Belum ada brain dump hari ini</p>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: DON'T LIST ==================== -->
    <div class="page" id="page-dontlist">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸš« Don't List</h1>
      </div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Hal-hal yang harus dihindari</p>
      
      <button class="btn-submit btn-secondary" onclick="openModal('dont-add')" style="margin-bottom: 16px;">+ Tambah Item</button>
      
      <div id="dontListContainer">
        <div class="empty-state" style="padding: 24px;">
          <p>Belum ada don't list</p>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: REVIEW ==================== -->
    <div class="page" id="page-review">
      <div class="section-title">ðŸ“… Weekly Review</div>
      
      <div class="card">
        <div class="card-header">
          <span class="card-title">ðŸ“Š Minggu Ini</span>
          <span class="badge info" id="reviewWeekNumber">W-</span>
        </div>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="value" id="reviewStatSholat">0%</div>
            <div class="label">Sholat</div>
          </div>
          <div class="stat-box">
            <div class="value" id="reviewStatHabit">0%</div>
            <div class="label">Habit</div>
          </div>
          <div class="stat-box">
            <div class="value" id="reviewStatPomodoro">0</div>
            <div class="label">Pomodoro</div>
          </div>
          <div class="stat-box">
            <div class="value" id="reviewStatTasks">0</div>
            <div class="label">Tasks</div>
          </div>
        </div>
      </div>
      
      <!-- Perbandingan Best Week vs Aktivitas Aktual -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ“Š Best Week vs Aktual</span>
          <button class="card-action" onclick="refreshBestWeekComparison()">ðŸ”„</button>
        </div>
        <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 12px;">Perbandingan jadwal ideal dengan aktivitas tercatat</p>
        
        <!-- Adherence Score -->
        <div class="bestweek-adherence" id="bestweekAdherence">
          <div class="adherence-score">
            <div class="adherence-circle" id="adherenceCircle">
              <span class="adherence-value" id="adherenceValue">-</span>
              <span class="adherence-label">%</span>
            </div>
            <div class="adherence-info">
              <div class="adherence-title">Tingkat Kepatuhan</div>
              <div class="adherence-subtitle" id="adherenceSubtitle">Belum ada data</div>
            </div>
          </div>
        </div>
        
        <!-- Category Breakdown -->
        <div class="category-breakdown" id="categoryBreakdown">
          <div class="category-item">
            <span class="cat-icon">ðŸ•Œ</span>
            <span class="cat-name">Ibadah</span>
            <div class="cat-bar"><div class="cat-fill" style="width: 0%"></div></div>
            <span class="cat-percent">-</span>
          </div>
          <div class="category-item">
            <span class="cat-icon">ðŸ’¼</span>
            <span class="cat-name">Kerja</span>
            <div class="cat-bar"><div class="cat-fill" style="width: 0%"></div></div>
            <span class="cat-percent">-</span>
          </div>
          <div class="category-item">
            <span class="cat-icon">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§</span>
            <span class="cat-name">Keluarga</span>
            <div class="cat-bar"><div class="cat-fill" style="width: 0%"></div></div>
            <span class="cat-percent">-</span>
          </div>
          <div class="category-item">
            <span class="cat-icon">ðŸƒ</span>
            <span class="cat-name">Olahraga</span>
            <div class="cat-bar"><div class="cat-fill" style="width: 0%"></div></div>
            <span class="cat-percent">-</span>
          </div>
          <div class="category-item">
            <span class="cat-icon">ðŸ“š</span>
            <span class="cat-name">Belajar</span>
            <div class="cat-bar"><div class="cat-fill" style="width: 0%"></div></div>
            <span class="cat-percent">-</span>
          </div>
        </div>
        
        <!-- Detailed Comparison Button -->
        <button class="btn-submit btn-secondary" style="margin-top: 16px;" onclick="openModal('bestweek-detail')">
          ðŸ“‹ Lihat Detail Perbandingan
        </button>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ“ Review</span>
          <span class="badge" id="reviewCurrentStatus">Belum</span>
        </div>
        <div id="reviewCurrentContent">
          <button class="btn-submit" onclick="openModal('weekly-review')">âœï¸ Tulis Weekly Review</button>
        </div>
      </div>
      
      <div class="section-title">ðŸ“œ Riwayat</div>
      <div id="reviewHistoryList">
        <div class="empty-state" style="padding: 20px;">
          <p style="font-size: 12px;">Belum ada riwayat review</p>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: REFLEKSI (untuk Jurnal Malam) ==================== -->
    <div class="page" id="page-refleksi">
      <div class="section-title">ðŸŒ™ Refleksi Hari Ini</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Review aktivitas hari ini sebelum menulis jurnal malam</p>
      
      <!-- Jadwal Best Week Hari Ini -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">ðŸ“† Jadwal Ideal Hari Ini</span>
          <span class="badge info" id="refleksiBestWeekDay">-</span>
        </div>
        <div id="refleksiBestWeek" class="refleksi-section">
          <p style="color: var(--gray-400); font-size: 12px;">Belum ada jadwal best week</p>
        </div>
      </div>
      
      <!-- Sholat Hari Ini -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">ðŸ•Œ Sholat Hari Ini</span>
          <span class="badge" id="refleksiSholatBadge">0/8</span>
        </div>
        <div id="refleksiSholat" class="refleksi-section"></div>
      </div>
      
      <!-- Sunnah/Habit Hari Ini -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">ðŸ“¿ Sunnah Hari Ini</span>
          <span class="badge" id="refleksiHabitBadge">0/11</span>
        </div>
        <div id="refleksiHabit" class="refleksi-section"></div>
      </div>
      
      <!-- Task yang Dikerjakan -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">âœ… Task Selesai</span>
          <span class="badge success" id="refleksiTaskBadge">0</span>
        </div>
        <div id="refleksiTasks" class="refleksi-section"></div>
      </div>
      
      <!-- Pomodoro -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">ðŸ… Fokus Hari Ini</span>
          <span class="badge warning" id="refleksiPomodoroBadge">0 sesi</span>
        </div>
        <div id="refleksiPomodoro" class="refleksi-section"></div>
      </div>
      
      <!-- Don't List -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">ðŸš« Don't List</span>
        </div>
        <div id="refleksiDontList" class="refleksi-section"></div>
      </div>
      
      <!-- Jurnal Pagi -->
      <div class="card" style="margin-top: 12px;">
        <div class="card-header">
          <span class="card-title">â˜€ï¸ Jurnal Pagi</span>
        </div>
        <div id="refleksiJurnalPagi" class="refleksi-section">
          <p style="color: var(--gray-400); font-size: 12px;">Belum ditulis</p>
        </div>
      </div>
      
      <!-- Tombol Tulis Jurnal Malam -->
      <button class="btn-submit" style="margin-top: 20px; width: 100%;" onclick="openJournalForm('evening')">
        ðŸŒ™ Tulis Jurnal Malam
      </button>
    </div>
    
    <!-- ==================== PAGE: BEST WEEK ==================== -->
    <!-- ==================== PAGE: REFLEKSI ==================== -->
    <div class="page" id="page-refleksi">
      <div class="section-title">ðŸ“Š Refleksi Hari Ini</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Review aktivitas hari ini untuk jurnal malam</p>
      
      <!-- Best Week Template untuk Hari Ini -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">ðŸ“† Jadwal Ideal Hari Ini</span>
          <span class="badge info" id="refleksiHariIni">-</span>
        </div>
        <div id="refleksiBestWeek">
          <div class="empty-state" style="padding: 16px;">
            <p style="font-size: 12px;">Belum ada jadwal ideal</p>
            <button class="btn-link" onclick="showPage('bestweek')">Atur Best Week â†’</button>
          </div>
        </div>
      </div>
      
      <!-- Ringkasan Ibadah -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ•Œ Ibadah Hari Ini</span>
        </div>
        <div class="refleksi-stats" id="refleksiIbadah">
          <div class="refleksi-stat">
            <div class="value" id="refleksiSholat">0/8</div>
            <div class="label">Sholat</div>
          </div>
          <div class="refleksi-stat">
            <div class="value" id="refleksiSunnah">0/11</div>
            <div class="label">Sunnah</div>
          </div>
          <div class="refleksi-stat">
            <div class="value" id="refleksiPomodoro">0</div>
            <div class="label">Pomodoro</div>
          </div>
        </div>
      </div>
      
      <!-- Don't List Status -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸš« Don't List</span>
          <span class="badge" id="refleksiDontBadge">-</span>
        </div>
        <div id="refleksiDontList">
          <!-- Rendered by JS -->
        </div>
      </div>
      
      <!-- Task Selesai -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">âœ… Task Selesai Hari Ini</span>
        </div>
        <div id="refleksiTaskDone">
          <!-- Rendered by JS -->
        </div>
      </div>
      
      <!-- Jurnal Pagi -->
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">â˜€ï¸ Jurnal Pagi</span>
        </div>
        <div id="refleksiJurnalPagi">
          <div class="empty-state" style="padding: 12px;">
            <p style="font-size: 12px; color: var(--gray-400);">Belum ditulis</p>
          </div>
        </div>
      </div>
      
      <!-- Tombol Tulis Jurnal Malam -->
      <button class="btn-submit" style="margin-top: 20px; width: 100%;" onclick="openJournalForm('evening')">
        ðŸŒ™ Tulis Jurnal Malam
      </button>
    </div>
    
    <!-- ==================== PAGE: BEST WEEK ==================== -->
    <div class="page" id="page-bestweek">
      <div class="section-title">ðŸ“† Best Week Template</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Jadwal ideal mingguan Anda</p>
      
      <div class="tabs" id="bestWeekTabs">
        <button class="tab-btn active" onclick="showBestWeekDay(1)">Sen</button>
        <button class="tab-btn" onclick="showBestWeekDay(2)">Sel</button>
        <button class="tab-btn" onclick="showBestWeekDay(3)">Rab</button>
        <button class="tab-btn" onclick="showBestWeekDay(4)">Kam</button>
        <button class="tab-btn" onclick="showBestWeekDay(5)">Jum</button>
        <button class="tab-btn" onclick="showBestWeekDay(6)">Sab</button>
        <button class="tab-btn" onclick="showBestWeekDay(7)">Min</button>
      </div>
      
      <div class="card" id="bestWeekContent">
        <div class="empty-state" style="padding: 20px;">
          <p>Belum ada jadwal untuk hari ini</p>
          <button class="btn-submit btn-secondary" style="width: auto; margin-top: 12px;" onclick="openModal('bestweek-edit')">+ Atur Jadwal</button>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: LEARNING ==================== -->
    <div class="page" id="page-learning">
      <div class="section-title">ðŸ“š Learning Tracker</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Track pembelajaran dan pengembangan diri</p>
      
      <button class="btn-submit btn-secondary" onclick="openModal('learning-add')" style="margin-bottom: 16px;">+ Tambah Learning</button>
      
      <div id="learningList">
        <div class="empty-state" style="padding: 24px;">
          <p>Belum ada learning yang di-track</p>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: WELLBEING ==================== -->
    <div class="page" id="page-wellbeing">
      <div class="section-title">ðŸ’š Wellbeing Trends</div>
      <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Tren energi dan kepuasan 12 minggu terakhir</p>
      
      <div class="card">
        <div class="card-header">
          <span class="card-title">ðŸ“ˆ Grafik Wellbeing</span>
        </div>
        <div id="wellbeingChart" style="min-height: 200px;">
          <div class="empty-state" style="padding: 20px;">
            <p>Isi Weekly Review untuk melihat tren</p>
          </div>
        </div>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ“Š Rata-rata</span>
        </div>
        <div class="stats-grid" style="grid-template-columns: 1fr 1fr;">
          <div class="stat-box">
            <div class="value" id="wellbeingAvgEnergy">-</div>
            <div class="label">âš¡ Energi</div>
          </div>
          <div class="stat-box">
            <div class="value" id="wellbeingAvgSatisfaction">-</div>
            <div class="label">ðŸ˜Š Kepuasan</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: STATS ==================== -->
    <div class="page" id="page-stats">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ“ˆ Statistik Pomodoro</h1>
      </div>
      
      <div class="tabs">
        <button class="tab-btn active" onclick="loadStats('week')">Minggu</button>
        <button class="tab-btn" onclick="loadStats('month')">Bulan</button>
      </div>
      
      <div class="card">
        <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr);">
          <div class="stat-box">
            <div class="value" id="statTotalSessions">0</div>
            <div class="label">Total Sesi</div>
          </div>
          <div class="stat-box">
            <div class="value" id="statTotalMinutes">0m</div>
            <div class="label">Total Waktu</div>
          </div>
          <div class="stat-box">
            <div class="value" id="statAvgDaily">0</div>
            <div class="label">Rata-rata/hari</div>
          </div>
          <div class="stat-box">
            <div class="value" id="statStreak">0</div>
            <div class="label">ðŸ”¥ Streak</div>
          </div>
        </div>
      </div>
      
      <!-- Pomodoro History -->
      <div class="section-title" style="margin-top: 24px;">ðŸ“‹ Riwayat Sesi</div>
      <div class="card">
        <div id="pomodoroHistoryList" class="history-list">
          <div class="empty-state" style="padding: 20px;">
            <p style="color: var(--gray-400); font-size: 13px;">Memuat riwayat...</p>
          </div>
        </div>
        <button class="btn-submit btn-secondary" style="margin-top: 12px;" onclick="loadPomodoroHistory()">ðŸ”„ Muat Lebih Banyak</button>
      </div>
    </div>
    
    <!-- ==================== PAGE: WISDOM STOIK ==================== -->
    <div class="page" id="page-wisdom">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ›ï¸ Wisdom Stoik</h1>
      </div>
      
      <!-- Wisdom Stats -->
      <div class="wisdom-stats">
        <div class="wisdom-stat-item">
          <span class="wisdom-stat-number">80</span>
          <span class="wisdom-stat-label">Situasi</span>
        </div>
        <div class="wisdom-stat-item">
          <span class="wisdom-stat-number">6</span>
          <span class="wisdom-stat-label">Framework</span>
        </div>
        <div class="wisdom-stat-item">
          <span class="wisdom-stat-number">3</span>
          <span class="wisdom-stat-label">Area</span>
        </div>
      </div>
      
      <!-- Framework Legend -->
      <div class="wisdom-frameworks-legend">
        <span class="wisdom-fw" title="Stoicism">ðŸ›ï¸</span>
        <span class="wisdom-fw" title="NLP">ðŸ§ </span>
        <span class="wisdom-fw" title="Sedona">ðŸ’¨</span>
        <span class="wisdom-fw" title="Atomic Habits">âš›ï¸</span>
        <span class="wisdom-fw" title="Dale Carnegie">ðŸ¤</span>
        <span class="wisdom-fw" title="Islamic">â˜ªï¸</span>
      </div>
      
      <!-- Filter Chips -->
      <div class="wisdom-filter-section">
        <div class="wisdom-filter-row">
          <span class="wisdom-filter-label">Area:</span>
          <div class="wisdom-chips" id="wisdomAreaChips">
            <button class="wisdom-chip active" data-area="all">ðŸ“š Semua</button>
            <button class="wisdom-chip" data-area="istri">ðŸ‘© Istri</button>
            <button class="wisdom-chip" data-area="anak">ðŸ‘§ Anak</button>
            <button class="wisdom-chip" data-area="diri">ðŸ§” Diri</button>
          </div>
        </div>
        <div class="wisdom-filter-row">
          <span class="wisdom-filter-label">Kategori:</span>
          <div class="wisdom-chips" id="wisdomCategoryChips">
            <button class="wisdom-chip active" data-cat="all">ðŸ“‹ Semua</button>
            <button class="wisdom-chip" data-cat="emosional">ðŸ˜¢ Emosional</button>
            <button class="wisdom-chip" data-cat="konflik">âš¡ Konflik</button>
            <button class="wisdom-chip" data-cat="komunikasi">ðŸ’¬ Komunikasi</button>
            <button class="wisdom-chip" data-cat="keputusan">ðŸ¤” Keputusan</button>
          </div>
        </div>
      </div>
      
      <!-- Search -->
      <div class="wisdom-search">
        <input type="text" id="wisdomSearch" placeholder="ðŸ” Cari situasi..." onkeyup="filterWisdomCards()">
      </div>
      
      <!-- Situation Cards -->
      <div class="wisdom-grid" id="wisdomGrid">
        <!-- Cards will be rendered by JS -->
      </div>
    </div>
    
    <!-- ==================== PAGE: PELAJARAN INTI ==================== -->
    <div class="page" id="page-pelajaran">
      <div class="page-header">
        <button class="back-btn" onclick="showPage('menu')">â† Kembali</button>
        <h1 class="page-title">ðŸ“– Pelajaran Inti</h1>
      </div>
      
      <!-- Tab Navigation -->
      <div class="pelajaran-tabs">
        <button class="pelajaran-tab active" onclick="showPelajaranTab('nlp', this)">ðŸ§  NLP</button>
        <button class="pelajaran-tab" onclick="showPelajaranTab('sedona', this)">ðŸŒŠ Sedona</button>
        <button class="pelajaran-tab" onclick="showPelajaranTab('atomic', this)">âš›ï¸ Atomic</button>
      </div>
      
      <!-- NLP Content -->
      <div class="pelajaran-content active" id="pelajaran-nlp">
        <div class="card">
          <div class="card-header">
            <span class="card-title">ðŸ§  Neuro-Linguistic Programming (NLP)</span>
          </div>
          <p class="pelajaran-intro">NLP adalah pendekatan untuk komunikasi, pengembangan pribadi, dan psikoterapi yang diciptakan oleh Richard Bandler dan John Grinder.</p>
          
          <div class="pelajaran-section">
            <h4>ðŸŽ¯ Presuppositions (Asumsi Dasar)</h4>
            <ul class="pelajaran-list">
              <li><strong>Peta bukanlah wilayah</strong> - Persepsi kita tentang dunia bukanlah realita sebenarnya</li>
              <li><strong>Setiap perilaku punya niat positif</strong> - Di balik setiap tindakan ada kebutuhan yang ingin dipenuhi</li>
              <li><strong>Tidak ada kegagalan, hanya feedback</strong> - Setiap hasil adalah informasi untuk perbaikan</li>
              <li><strong>Makna komunikasi adalah respon yang didapat</strong> - Bukan niat, tapi hasil yang menentukan</li>
              <li><strong>Jika satu orang bisa, orang lain juga bisa</strong> - Excellence bisa dimodelkan</li>
            </ul>
          </div>
          
          <div class="pelajaran-section">
            <h4>âš¡ Teknik-Teknik Utama</h4>
            
            <div class="technique-card">
              <div class="technique-title">1. Anchoring (Jangkar Emosi)</div>
              <p>Menghubungkan stimulus tertentu dengan state emosional.</p>
              <div class="technique-steps">
                <span class="step">1. Ingat momen ketika kamu merasakan state yang diinginkan</span>
                <span class="step">2. Perkuat dengan detail (lihat, dengar, rasakan)</span>
                <span class="step">3. Di puncak emosi, buat anchor (sentuh jari, kata tertentu)</span>
                <span class="step">4. Ulangi beberapa kali untuk memperkuat</span>
                <span class="step">5. Test anchor dengan memicunya</span>
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">2. Reframing (Mengubah Bingkai)</div>
              <p>Mengubah makna suatu pengalaman dengan melihat dari sudut pandang berbeda.</p>
              <div class="technique-steps">
                <span class="step"><strong>Context Reframe:</strong> "Di situasi apa ini berguna?"</span>
                <span class="step"><strong>Content Reframe:</strong> "Apa makna positif lainnya?"</span>
              </div>
              <div class="example-box">
                <strong>Contoh:</strong><br>
                âŒ "Saya terlalu perfeksionis"<br>
                âœ… "Saya memiliki standar tinggi dan perhatian pada detail"
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">3. Swish Pattern</div>
              <p>Mengubah respon otomatis terhadap trigger.</p>
              <div class="technique-steps">
                <span class="step">1. Identifikasi trigger (gambar pemicu)</span>
                <span class="step">2. Buat gambar diri ideal (state yang diinginkan)</span>
                <span class="step">3. Letakkan gambar ideal kecil di pojok trigger</span>
                <span class="step">4. "SWISH!" - kecilkan trigger, besarkan ideal dengan cepat</span>
                <span class="step">5. Blank state, ulangi 5-7x</span>
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">4. Well-Formed Outcome</div>
              <p>Merumuskan tujuan yang efektif.</p>
              <div class="technique-steps">
                <span class="step"><strong>Positif:</strong> Apa yang kamu INGINKAN (bukan tidak inginkan)?</span>
                <span class="step"><strong>Spesifik:</strong> Kapan, di mana, dengan siapa?</span>
                <span class="step"><strong>Sensori:</strong> Bagaimana kamu tahu sudah tercapai?</span>
                <span class="step"><strong>Dalam kontrol:</strong> Apa yang bisa KAMU lakukan?</span>
                <span class="step"><strong>Ekologis:</strong> Apa dampaknya ke area hidup lain?</span>
              </div>
            </div>
          </div>
          
          <div class="pelajaran-section">
            <h4>âœ¨ Afirmasi Efektif (Rumus NLP)</h4>
            <div class="formula-box">
              <strong>3P Formula:</strong> Present + Positive + Personal<br><br>
              âŒ "Saya tidak akan malas lagi"<br>
              âœ… "Saya adalah pribadi yang produktif dan penuh energi"<br><br>
              âŒ "Saya ingin percaya diri"<br>
              âœ… "Saya percaya pada kemampuan diri saya"
            </div>
          </div>
        </div>
      </div>
      
      <!-- Sedona Method Content -->
      <div class="pelajaran-content" id="pelajaran-sedona">
        <div class="card">
          <div class="card-header">
            <span class="card-title">ðŸŒŠ The Sedona Method</span>
          </div>
          <p class="pelajaran-intro">Dikembangkan oleh Lester Levenson dan dipopulerkan oleh Hale Dwoskin. Teknik sederhana namun powerful untuk melepaskan emosi negatif dan batasan mental.</p>
          
          <div class="pelajaran-section">
            <h4>ðŸ”‘ Prinsip Dasar</h4>
            <ul class="pelajaran-list">
              <li><strong>Emosi bukan kita</strong> - Kita MEMILIKI emosi, bukan MENJADI emosi</li>
              <li><strong>Melepaskan itu natural</strong> - Seperti melepas genggaman tangan</li>
              <li><strong>Bisa dilakukan kapan saja</strong> - Tidak butuh kondisi khusus</li>
              <li><strong>Semakin sering, semakin mudah</strong> - Otot melepaskan bisa dilatih</li>
            </ul>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸ“ 4 Pertanyaan Dasar</h4>
            <div class="sedona-questions">
              <div class="sedona-q">
                <span class="q-number">1</span>
                <div class="q-content">
                  <strong>Apa yang kamu rasakan saat ini?</strong>
                  <p>Identifikasi dan beri nama emosi. Biarkan dirimu merasakannya sepenuhnya.</p>
                </div>
              </div>
              <div class="sedona-q">
                <span class="q-number">2</span>
                <div class="q-content">
                  <strong>Bisakah kamu menerimanya?</strong>
                  <p>Bukan menyetujui atau menyukai, tapi mengakui keberadaannya. Jawab Ya atau Tidak.</p>
                </div>
              </div>
              <div class="sedona-q">
                <span class="q-number">3</span>
                <div class="q-content">
                  <strong>Bisakah kamu melepaskannya?</strong>
                  <p>Apakah kamu BISA (bukan mau) melepaskan? Jawab Ya atau Tidak.</p>
                </div>
              </div>
              <div class="sedona-q">
                <span class="q-number">4</span>
                <div class="q-content">
                  <strong>Kapan?</strong>
                  <p>Biarkan jawaban muncul. Sering kali jawabannya adalah "Sekarang".</p>
                </div>
              </div>
            </div>
            <p class="note-text">ðŸ’¡ Ulangi proses sampai intensitas emosi berkurang signifikan.</p>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸŽ­ 9 Emosi Dasar (Wants)</h4>
            <p>Semua emosi negatif berakar dari 3 keinginan dasar:</p>
            <div class="wants-grid">
              <div class="want-card">
                <div class="want-title">ðŸŽ® Want of Control</div>
                <p>Emosi: Marah, Frustrasi, Tidak sabar</p>
                <p class="release-q">"Bisakah saya melepaskan keinginan untuk mengontrol?"</p>
              </div>
              <div class="want-card">
                <div class="want-title">ðŸ‘ Want of Approval</div>
                <p>Emosi: Sedih, Malu, Merasa tidak cukup</p>
                <p class="release-q">"Bisakah saya melepaskan keinginan untuk diakui?"</p>
              </div>
              <div class="want-card">
                <div class="want-title">ðŸ›¡ï¸ Want of Security</div>
                <p>Emosi: Takut, Cemas, Khawatir</p>
                <p class="release-q">"Bisakah saya melepaskan keinginan untuk aman?"</p>
              </div>
            </div>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸš€ Teknik Lanjutan</h4>
            
            <div class="technique-card">
              <div class="technique-title">Welcoming</div>
              <p>Alih-alih melawan, sambut emosi seperti tamu:</p>
              <div class="example-box">
                "Selamat datang, kecemasan. Aku mengakui kehadiranmu.<br>
                Bisakah aku melepaskanmu? Ya.<br>
                Kapan? Sekarang."
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">Diving In</div>
              <p>Untuk emosi yang sangat intens:</p>
              <div class="technique-steps">
                <span class="step">1. Masuk ke pusat emosi (di mana kamu merasakannya di tubuh?)</span>
                <span class="step">2. Biarkan dirimu merasakan sepenuhnya</span>
                <span class="step">3. Temukan keheningan di tengah intensitas</span>
                <span class="step">4. Lepaskan dari sana</span>
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">Advantages & Disadvantages</div>
              <p>Untuk kebiasaan atau emosi yang sulit dilepas:</p>
              <div class="technique-steps">
                <span class="step">"Apa keuntungan mempertahankan [emosi/kebiasaan] ini?"</span>
                <span class="step">"Apa kerugiannya?"</span>
                <span class="step">"Bisakah saya melepaskan keuntungan ini?"</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Atomic Habits Content -->
      <div class="pelajaran-content" id="pelajaran-atomic">
        <div class="card">
          <div class="card-header">
            <span class="card-title">âš›ï¸ Atomic Habits</span>
          </div>
          <p class="pelajaran-intro">Framework dari James Clear untuk membangun kebiasaan baik dan menghilangkan kebiasaan buruk melalui perubahan kecil yang konsisten.</p>
          
          <div class="pelajaran-section">
            <h4>ðŸ“ Konsep Dasar</h4>
            <div class="concept-box">
              <strong>1% Better Every Day</strong><br>
              Jika kamu 1% lebih baik setiap hari selama setahun:<br>
              1.01Â³â¶âµ = <strong>37.78x lebih baik</strong><br><br>
              Jika 1% lebih buruk setiap hari:<br>
              0.99Â³â¶âµ = <strong>0.03 (hampir nol)</strong>
            </div>
            
            <ul class="pelajaran-list">
              <li><strong>Fokus pada sistem, bukan tujuan</strong> - Tujuan menentukan arah, sistem menentukan kemajuan</li>
              <li><strong>Identitas > Hasil</strong> - Bukan "ingin menulis buku" tapi "menjadi penulis"</li>
              <li><strong>Habit adalah compound interest</strong> - Efeknya tidak terasa di awal, tapi luar biasa jangka panjang</li>
            </ul>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸ”„ Habit Loop</h4>
            <div class="habit-loop">
              <div class="loop-step">
                <span class="loop-icon">ðŸ‘ï¸</span>
                <span class="loop-name">CUE</span>
                <span class="loop-desc">Pemicu yang memulai</span>
              </div>
              <div class="loop-arrow">â†’</div>
              <div class="loop-step">
                <span class="loop-icon">ðŸ’­</span>
                <span class="loop-name">CRAVING</span>
                <span class="loop-desc">Keinginan/motivasi</span>
              </div>
              <div class="loop-arrow">â†’</div>
              <div class="loop-step">
                <span class="loop-icon">âš¡</span>
                <span class="loop-name">RESPONSE</span>
                <span class="loop-desc">Habit itu sendiri</span>
              </div>
              <div class="loop-arrow">â†’</div>
              <div class="loop-step">
                <span class="loop-icon">ðŸŽ</span>
                <span class="loop-name">REWARD</span>
                <span class="loop-desc">Hasil/kepuasan</span>
              </div>
            </div>
          </div>
          
          <div class="pelajaran-section">
            <h4>âœ… 4 Hukum Perubahan Perilaku</h4>
            
            <div class="laws-container">
              <div class="law-card good">
                <div class="law-header">MEMBANGUN Kebiasaan Baik</div>
                <div class="law-item">
                  <span class="law-num">1</span>
                  <div>
                    <strong>Make it OBVIOUS</strong>
                    <p>Implementation intention: "Saya akan [HABIT] pada [WAKTU] di [LOKASI]"</p>
                    <p>Habit stacking: "Setelah [HABIT LAMA], saya akan [HABIT BARU]"</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">2</span>
                  <div>
                    <strong>Make it ATTRACTIVE</strong>
                    <p>Temptation bundling: Gabungkan dengan yang kamu suka</p>
                    <p>Bergabung dengan komunitas yang sudah punya habit itu</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">3</span>
                  <div>
                    <strong>Make it EASY</strong>
                    <p>Reduce friction: Kurangi langkah untuk melakukan</p>
                    <p>2-Minute Rule: Mulai dengan versi 2 menit</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">4</span>
                  <div>
                    <strong>Make it SATISFYING</strong>
                    <p>Immediate reward setelah selesai</p>
                    <p>Habit tracker: "Don't break the chain"</p>
                  </div>
                </div>
              </div>
              
              <div class="law-card bad">
                <div class="law-header">MENGHILANGKAN Kebiasaan Buruk</div>
                <div class="law-item">
                  <span class="law-num">1</span>
                  <div>
                    <strong>Make it INVISIBLE</strong>
                    <p>Hilangkan cue dari lingkungan</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">2</span>
                  <div>
                    <strong>Make it UNATTRACTIVE</strong>
                    <p>Reframe: Highlight kerugiannya</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">3</span>
                  <div>
                    <strong>Make it DIFFICULT</strong>
                    <p>Tambah friction: Persulit akses</p>
                  </div>
                </div>
                <div class="law-item">
                  <span class="law-num">4</span>
                  <div>
                    <strong>Make it UNSATISFYING</strong>
                    <p>Accountability partner, konsekuensi publik</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸ› ï¸ Strategi Praktis</h4>
            
            <div class="technique-card">
              <div class="technique-title">Habit Stacking Formula</div>
              <div class="formula-box">
                "Setelah [CURRENT HABIT], saya akan [NEW HABIT]"<br><br>
                <strong>Contoh:</strong><br>
                â€¢ Setelah meletakkan kopi di meja, saya akan menulis 1 paragraf<br>
                â€¢ Setelah sholat Subuh, saya akan baca 1 halaman Al-Quran<br>
                â€¢ Setelah makan malam, saya akan journaling 5 menit
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">2-Minute Rule</div>
              <p>Skalakan habit ke versi 2 menit:</p>
              <div class="example-box">
                â€¢ "Baca 30 halaman" â†’ "Baca 1 halaman"<br>
                â€¢ "Olahraga 30 menit" â†’ "Pakai sepatu olahraga"<br>
                â€¢ "Belajar coding" â†’ "Buka laptop dan IDE"<br>
                â€¢ "Meditasi 15 menit" â†’ "Duduk dan napas 1 menit"
              </div>
              <p class="note-text">ðŸ’¡ Tujuannya adalah MUNCUL, bukan performa. Momentum akan datang.</p>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">Environment Design</div>
              <p>Lingkungan > Motivasi. Desain environment untuk sukses:</p>
              <div class="technique-steps">
                <span class="step"><strong>Untuk habit baik:</strong> Letakkan cue di tempat terlihat</span>
                <span class="step"><strong>Untuk habit buruk:</strong> Sembunyikan atau persulit akses</span>
                <span class="step"><strong>One space, one use:</strong> Pisahkan zona kerja dan istirahat</span>
              </div>
            </div>
            
            <div class="technique-card">
              <div class="technique-title">Never Miss Twice</div>
              <div class="example-box">
                "Melewatkan sekali adalah kecelakaan.<br>
                Melewatkan dua kali adalah awal dari habit baru."<br><br>
                Jika gagal hari ini, HARUS berhasil besok.
              </div>
            </div>
          </div>
          
          <div class="pelajaran-section">
            <h4>ðŸ”„ Identity-Based Habits</h4>
            <div class="concept-box">
              <strong>3 Layer Perubahan:</strong><br><br>
              <strong>1. Outcomes</strong> (Hasil) - "Saya ingin menurunkan berat badan"<br>
              <strong>2. Process</strong> (Proses) - "Saya akan diet dan olahraga"<br>
              <strong>3. Identity</strong> (Identitas) - "Saya adalah orang yang sehat"<br><br>
              ðŸ’¡ Mulai dari identitas. Setiap tindakan adalah vote untuk tipe orang yang ingin kamu jadi.
            </div>
            
            <div class="example-box">
              <strong>Pertanyaan Kunci:</strong><br>
              "Tipe orang seperti apa yang bisa mencapai hasil ini?"<br>
              "Apa yang akan dilakukan orang itu?"<br><br>
              Bukan: "Saya ingin berhenti merokok"<br>
              Tapi: "Saya bukan perokok"
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ==================== PAGE: SETTINGS ==================== -->
    <div class="page" id="page-settings">
      <div class="section-title">âš™ï¸ Pengaturan</div>
      
      <!-- API URL Configuration -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">ðŸ”— URL Backend API</span>
        </div>
        <div style="margin-bottom: 12px;">
          <input type="url" id="settingApiUrl" class="form-input" placeholder="https://script.google.com/macros/s/.../exec" style="font-size: 12px;">
          <div style="font-size: 11px; color: var(--gray-500); margin-top: 6px;">
            Masukkan URL deployment dari Google Apps Script
          </div>
        </div>
        <div style="display: flex; gap: 8px;">
          <button class="btn-submit" onclick="saveApiUrl()" style="flex: 1;">ðŸ’¾ Simpan URL</button>
          <button class="btn-submit btn-secondary" onclick="testApiConnection()" style="flex: 1;">ðŸ§ª Test</button>
        </div>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸŒ Status API</span>
        </div>
        <div style="font-size: 13px; color: var(--gray-600);" id="settingApiStatus">Checking...</div>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ”„ Sinkronisasi</span>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
          <span style="font-size: 13px;">Data Pending</span>
          <span style="font-weight: 700; color: var(--accent);" id="settingPendingCount">0</span>
        </div>
        <button class="btn-submit btn-secondary" onclick="forceSyncNow()">âš¡ Sync Sekarang</button>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">ðŸ‘¤ Profil</span>
        </div>
        <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">User ID</div>
        <div style="font-size: 11px; word-break: break-all; color: var(--gray-700);" id="settingUserId">-</div>
      </div>
      
      <div class="card" style="margin-top: 16px;">
        <div class="card-header">
          <span class="card-title">â„¹ï¸ Tentang</span>
        </div>
        <div style="font-size: 13px; line-height: 1.8;">
          <p><strong>Sync Planner v4.1</strong></p>
          <p style="color: var(--gray-600);">Produktivitas Islami untuk ASN</p>
          <p style="font-size: 11px; color: var(--gray-500); margin-top: 8px;">âœ¨ Full Features Edition</p>
        </div>
      </div>
      
      <button class="btn-submit" onclick="refreshAllData()" style="margin-top: 16px;">ðŸ”„ Refresh Data</button>
      
      <div class="card" style="margin-top: 16px; background: var(--danger-light);">
        <div class="card-header">
          <span class="card-title" style="color: var(--danger);">âš ï¸ Reset</span>
        </div>
        <button class="btn-submit" style="background: var(--danger);" onclick="resetAllSettings()">ðŸ—‘ï¸ Reset Semua Pengaturan</button>
      </div>
    </div>
  </main>
  
  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item" onclick="showPage('menu', this)">
      <span class="icon">â˜°</span><span>Menu</span>
    </button>
    <button class="nav-item" onclick="showPage('pomodoro', this)">
      <span class="icon">ðŸ…</span><span>Fokus</span>
    </button>
    <button class="nav-item active" onclick="showPage('home', this)">
      <span class="icon">ðŸ </span><span>Beranda</span>
    </button>
    <button class="nav-item" onclick="showPage('kanban', this)">
      <span class="icon">ðŸ“‹</span><span>Tasks</span>
    </button>
    <button class="nav-item" onclick="showPage('goals', this)">
      <span class="icon">ðŸŽ¯</span><span>Goals</span>
    </button>
  </nav>

  <!-- ==================== MODALS ==================== -->
  
  <!-- Modal: Sholat -->
  <div class="modal-overlay" id="modal-sholat" onclick="if(event.target===this)closeModal('sholat')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title" id="sholatModalTitle">ðŸ•Œ Sholat</span>
        <button class="modal-close" onclick="closeModal('sholat')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Pilih Lokasi</label>
          <select class="form-input form-select" id="sholatLokasi">
            <option value="masjid">ðŸ•Œ Masjid</option>
            <option value="musholla">ðŸ¢ Musholla</option>
            <option value="rumah">ðŸ  Rumah</option>
            <option value="kantor">ðŸ’¼ Kantor</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Berjamaah?</label>
          <select class="form-input form-select" id="sholatJamaah">
            <option value="ya">âœ“ Ya, Berjamaah</option>
            <option value="tidak">âœ— Tidak / Sendirian</option>
          </select>
        </div>
        <input type="hidden" id="sholatWaktu">
        <button class="btn-submit" onclick="submitSholat()">âœ“ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Task -->
  <div class="modal-overlay" id="modal-task" onclick="if(event.target===this)closeModal('task')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ“‹ Tambah Task</span>
        <button class="modal-close" onclick="closeModal('task')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Judul Task</label>
          <input type="text" class="form-input" id="taskTitle" placeholder="Apa yang perlu dikerjakan?">
        </div>
        <div class="form-group">
          <label class="form-label">Keterangan / Deskripsi</label>
          <textarea class="form-input form-textarea" id="taskDesc" rows="3" placeholder="Detail task, catatan, atau instruksi..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ”— Link Terkait (Opsional)</label>
          <input type="url" class="form-input" id="taskLink" placeholder="https://docs.google.com/... atau link lainnya">
        </div>
        <div class="form-group">
          <label class="form-label">Goal (Opsional)</label>
          <select class="form-input form-select" id="taskGoal" onchange="updateMilestoneSelect(this.value)">
            <option value="">-- Tanpa Goal --</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Milestone (Opsional)</label>
          <select class="form-input form-select" id="taskMilestone">
            <option value="">-- Tanpa Milestone --</option>
          </select>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div class="form-group">
            <label class="form-label">Prioritas</label>
            <select class="form-input form-select" id="taskPriority">
              <option value="urgent">ðŸ”¥ Urgent</option>
              <option value="high">ðŸ”´ High</option>
              <option value="medium" selected>ðŸŸ¡ Medium</option>
              <option value="low">ðŸŸ¢ Low</option>
              <option value="someday">âšª Someday</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Status</label>
            <select class="form-input form-select" id="taskStatus">
              <option value="backlog">ðŸ“¥ Backlog</option>
              <option value="todo" selected>ðŸ“‹ Todo</option>
              <option value="progress">ðŸ”„ Progress</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ‘¤ Pelaksana</label>
          <select class="form-input form-select" id="taskAssignee" onchange="toggleDelegateInput(this.value)">
            <option value="self">ðŸ™‹ Kerjakan Sendiri</option>
            <option value="delegate">ðŸ‘¥ Delegasikan</option>
          </select>
        </div>
        <div class="form-group" id="delegateInputGroup" style="display: none;">
          <label class="form-label">Delegasikan Kepada</label>
          <input type="text" class="form-input" id="taskDelegateTo" placeholder="Nama orang yang ditugaskan...">
        </div>
        <div class="form-group">
          <label class="form-label">Due Date (Opsional)</label>
          <input type="date" class="form-input" id="taskDueDate">
        </div>
        <div class="form-group">
          <label class="form-label">â±ï¸ Estimasi Pomodoro</label>
          <select class="form-input form-select" id="taskEstPomodoro">
            <option value="1">1 Pomodoro (25 menit)</option>
            <option value="2" selected>2 Pomodoro (50 menit)</option>
            <option value="3">3 Pomodoro (75 menit)</option>
            <option value="4">4 Pomodoro (100 menit)</option>
            <option value="5">5+ Pomodoro</option>
          </select>
        </div>
        <button class="btn-submit" onclick="submitTask()">âœ“ Simpan Task</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Edit Task -->
  <div class="modal-overlay" id="modal-task-edit" onclick="if(event.target===this)closeModal('task-edit')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">âœï¸ Edit Task</span>
        <button class="modal-close" onclick="closeModal('task-edit')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Judul Task</label>
          <input type="text" class="form-input" id="editTaskTitle" placeholder="Judul task">
        </div>
        <div class="form-group">
          <label class="form-label">Deskripsi</label>
          <textarea class="form-input form-textarea" id="editTaskDesc" rows="3" placeholder="Detail atau catatan..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ”— Link Terkait</label>
          <input type="url" class="form-input" id="editTaskLink" placeholder="https://...">
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div class="form-group">
            <label class="form-label">Prioritas</label>
            <select class="form-input form-select" id="editTaskPriority">
              <option value="urgent">ðŸ”¥ Urgent</option>
              <option value="high">ðŸ”´ High</option>
              <option value="medium">ðŸŸ¡ Medium</option>
              <option value="low">ðŸŸ¢ Low</option>
              <option value="someday">âšª Someday</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Status</label>
            <select class="form-input form-select" id="editTaskStatus">
              <option value="backlog">ðŸ“¥ Backlog</option>
              <option value="todo">ðŸ“‹ Todo</option>
              <option value="progress">ðŸ”„ Progress</option>
              <option value="done">âœ… Done</option>
            </select>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div class="form-group">
            <label class="form-label">ðŸ“… Due Date</label>
            <input type="date" class="form-input" id="editTaskDueDate">
          </div>
          <div class="form-group">
            <label class="form-label">ðŸ… Est. Pomodoro</label>
            <select class="form-input form-select" id="editTaskEstPomodoro">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5+</option>
            </select>
          </div>
        </div>
        <div style="display: flex; gap: 8px; margin-top: 16px;">
          <button class="btn-submit" style="flex: 1;" onclick="submitEditTask()">ðŸ’¾ Simpan</button>
          <button class="btn-submit btn-secondary" style="width: auto;" onclick="deleteTaskFromMenu()">ðŸ—‘ï¸ Hapus</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal: Goal -->
  <div class="modal-overlay" id="modal-goal" onclick="if(event.target===this)closeModal('goal')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸŽ¯ Tambah Goal</span>
        <button class="modal-close" onclick="closeModal('goal')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Judul Goal</label>
          <input type="text" class="form-input" id="goalTitle" placeholder="Goal 12 minggu Anda">
        </div>
        <div class="form-group">
          <label class="form-label">Deskripsi</label>
          <textarea class="form-input form-textarea" id="goalDesc" placeholder="Detail goal..."></textarea>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div class="form-group">
            <label class="form-label">Quarter</label>
            <select class="form-input form-select" id="goalQuarter">
              <option value="1">Q1</option>
              <option value="2">Q2</option>
              <option value="3">Q3</option>
              <option value="4">Q4</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Tahun</label>
            <input type="number" class="form-input" id="goalYear" value="2025">
          </div>
        </div>
        <button class="btn-submit" onclick="submitGoal()">âœ“ Simpan Goal</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Milestone -->
  <div class="modal-overlay" id="modal-milestone" onclick="if(event.target===this)closeModal('milestone')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ“Œ Tambah Milestone</span>
        <button class="modal-close" onclick="closeModal('milestone')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Judul Milestone</label>
          <input type="text" class="form-input" id="milestoneTitle" placeholder="Target mingguan...">
        </div>
        <div class="form-group">
          <label class="form-label">Target Minggu</label>
          <select class="form-input form-select" id="milestoneWeek">
            <option value="1">Minggu 1</option>
            <option value="2">Minggu 2</option>
            <option value="3">Minggu 3</option>
            <option value="4">Minggu 4</option>
          </select>
        </div>
        <input type="hidden" id="milestoneGoalId">
        <button class="btn-submit" onclick="submitMilestone()">âœ“ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Quick Brain Dump -->
  <div class="modal-overlay" id="modal-quick-braindump" onclick="if(event.target===this)closeModal('quick-braindump')">
    <div class="modal" style="max-width: 450px;">
      <div class="modal-header">
        <span class="modal-title" style="font-size: 20px;">ðŸ§  Quick Brain Dump</span>
        <button class="modal-close" onclick="closeModal('quick-braindump')" style="font-size: 24px;">âœ•</button>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <textarea class="form-input form-textarea" id="quickBrainDumpInput" placeholder="Tulis ide, pikiran, aktivitas, apapun yang terlintas di benakmu..." style="min-height: 150px; font-size: 18px; line-height: 1.7; padding: 16px; border-radius: 12px;"></textarea>
        
        <!-- Waktu dan Kategori (untuk perbandingan Best Week) -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px;">
          <div class="form-group" style="margin-bottom: 0;">
            <label class="form-label" style="font-size: 14px;">ðŸ• Waktu <span style="color: var(--gray-400); font-weight: normal;">(opsional)</span></label>
            <input type="time" class="form-input" id="quickBrainDumpTime" style="font-size: 16px; padding: 12px;">
          </div>
          <div class="form-group" style="margin-bottom: 0;">
            <label class="form-label" style="font-size: 14px;">ðŸ·ï¸ Kategori</label>
            <select class="form-input form-select" id="quickBrainDumpCategory" style="font-size: 16px; padding: 12px;">
              <option value="IBADAH">ðŸ•Œ Ibadah</option>
              <option value="KERJA">ðŸ’¼ Kerja</option>
              <option value="KELUARGA">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Keluarga</option>
              <option value="OLAHRAGA">ðŸƒ Olahraga</option>
              <option value="ISTIRAHAT">ðŸ˜´ Istirahat</option>
              <option value="BELAJAR">ðŸ“š Belajar</option>
              <option value="SOSIAL">ðŸ¤ Sosial</option>
              <option value="LAINNYA" selected>ðŸ“ Lainnya</option>
            </select>
          </div>
        </div>
        
        <div class="form-group" style="margin-top: 20px;">
          <label class="form-label" style="font-size: 15px; font-weight: 600; margin-bottom: 12px; display: block;">ðŸ“ Simpan ke:</label>
          <div class="braindump-destination-options">
            <label class="destination-option active" data-dest="braindump">
              <input type="radio" name="braindumpDest" value="braindump" checked>
              <span class="dest-icon">ðŸ§ </span>
              <span class="dest-label">Brain Dump</span>
            </label>
            <label class="destination-option" data-dest="task">
              <input type="radio" name="braindumpDest" value="task">
              <span class="dest-icon">ðŸ“‹</span>
              <span class="dest-label">Task</span>
            </label>
            <label class="destination-option" data-dest="journal">
              <input type="radio" name="braindumpDest" value="journal">
              <span class="dest-icon">ðŸ“</span>
              <span class="dest-label">Jurnal</span>
            </label>
            <label class="destination-option" data-dest="learning">
              <input type="radio" name="braindumpDest" value="learning">
              <span class="dest-icon">ðŸ“š</span>
              <span class="dest-label">Pelajaran</span>
            </label>
          </div>
        </div>
        
        <!-- Task options (hidden by default) -->
        <div id="quickTaskOptions" style="display: none; margin-top: 16px;">
          <div class="form-group" style="margin-bottom: 12px;">
            <label class="form-label" style="font-size: 14px;">ðŸŽ¯ Prioritas</label>
            <select class="form-input form-select" id="quickTaskPriority" style="font-size: 16px; padding: 12px;">
              <option value="HIGH">ðŸ”´ Tinggi</option>
              <option value="MEDIUM" selected>ðŸŸ¡ Sedang</option>
              <option value="LOW">ðŸŸ¢ Rendah</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" style="font-size: 14px;">ðŸ“… Target Selesai</label>
            <input type="date" class="form-input" id="quickTaskDueDate" style="font-size: 16px; padding: 12px;">
          </div>
        </div>
        
        <!-- Journal options (hidden by default) -->
        <div id="quickJournalOptions" style="display: none; margin-top: 16px;">
          <div class="form-group">
            <label class="form-label" style="font-size: 14px;">ðŸ“– Tipe Jurnal</label>
            <select class="form-input form-select" id="quickJournalType" style="font-size: 16px; padding: 12px;">
              <option value="gratitude">ðŸ™ Syukur</option>
              <option value="reflection">ðŸ’­ Refleksi</option>
              <option value="idea">ðŸ’¡ Ide</option>
              <option value="note">ðŸ“ Catatan</option>
            </select>
          </div>
        </div>
        
        <!-- Learning options (hidden by default) -->
        <div id="quickLearningOptions" style="display: none; margin-top: 16px;">
          <div class="form-group">
            <label class="form-label" style="font-size: 14px;">ðŸ“š Kategori</label>
            <select class="form-input form-select" id="quickLearningCategory" style="font-size: 16px; padding: 12px;">
              <option value="HIKMAH">ðŸŒ™ Hikmah</option>
              <option value="TEKNIS">ðŸ’» Teknis</option>
              <option value="BISNIS">ðŸ’¼ Bisnis</option>
              <option value="KEHIDUPAN">ðŸŒ± Kehidupan</option>
              <option value="LAINNYA">ðŸ“Œ Lainnya</option>
            </select>
          </div>
        </div>
        
        <div style="display: flex; gap: 12px; margin-top: 20px;">
          <button class="btn-submit btn-secondary" style="flex: 1; font-size: 16px; padding: 14px;" onclick="closeModal('quick-braindump')">Batal</button>
          <button class="btn-submit" style="flex: 2; font-size: 16px; padding: 14px;" onclick="submitQuickBrainDump()">ðŸ’¾ Simpan</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal: Don't Add -->
  <div class="modal-overlay" id="modal-dont-add" onclick="if(event.target===this)closeModal('dont-add')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸš« Tambah Don't Item</span>
        <button class="modal-close" onclick="closeModal('dont-add')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Hal yang harus dihindari</label>
          <input type="text" class="form-input" id="dontItemText" placeholder="Contoh: Cek HP sebelum subuh">
        </div>
        <div class="form-group">
          <label class="form-label">Alasan</label>
          <textarea class="form-input form-textarea" id="dontItemReason" placeholder="Mengapa harus dihindari?"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Kategori</label>
          <select class="form-input form-select" id="dontItemCategory">
            <option value="FOKUS">ðŸŽ¯ Fokus</option>
            <option value="WAKTU">â° Waktu</option>
            <option value="ENERGI">âš¡ Energi</option>
            <option value="KEBIASAAN">ðŸ”„ Kebiasaan</option>
          </select>
        </div>
        <button class="btn-submit" onclick="submitDontItem()">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Best Week Detail Comparison -->
  <div class="modal-overlay" id="modal-bestweek-detail" onclick="if(event.target===this)closeModal('bestweek-detail')">
    <div class="modal" style="max-width: 500px; max-height: 90vh;">
      <div class="modal-header">
        <span class="modal-title">ðŸ“Š Detail Perbandingan Best Week</span>
        <button class="modal-close" onclick="closeModal('bestweek-detail')">âœ•</button>
      </div>
      <div class="modal-body" style="overflow-y: auto; max-height: calc(90vh - 120px);">
        <div id="bestweekDetailContent">
          <!-- Will be populated by JS -->
          <div class="empty-state">
            <span class="icon">ðŸ“Š</span>
            <p>Catat aktivitas melalui Brain Dump untuk melihat perbandingan dengan Best Week</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal: Weekly Review -->
  <div class="modal-overlay" id="modal-weekly-review" onclick="if(event.target===this)closeModal('weekly-review')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ“… Weekly Review</span>
        <button class="modal-close" onclick="closeModal('weekly-review')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ðŸ† Wins</label>
          <textarea class="form-input form-textarea" id="reviewWins" placeholder="Apa yang berjalan baik?"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸš§ Challenges</label>
          <textarea class="form-input form-textarea" id="reviewChallenges" placeholder="Tantangan yang dihadapi?"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ’¡ Lessons</label>
          <textarea class="form-input form-textarea" id="reviewLessons" placeholder="Apa yang dipelajari?"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸŽ¯ Fokus Minggu Depan</label>
          <textarea class="form-input form-textarea" id="reviewNextFocus" placeholder="Prioritas minggu depan?"></textarea>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div class="form-group">
            <label class="form-label">âš¡ Energi (1-10)</label>
            <input type="number" class="form-input" id="reviewEnergy" min="1" max="10" placeholder="8">
          </div>
          <div class="form-group">
            <label class="form-label">ðŸ˜Š Kepuasan (1-10)</label>
            <input type="number" class="form-input" id="reviewSatisfaction" min="1" max="10" placeholder="7">
          </div>
        </div>
        <button class="btn-submit" onclick="submitWeeklyReview()">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Pomodoro Start -->
  <div class="modal-overlay" id="modal-pomodoro-start" onclick="if(event.target===this)closeModal('pomodoro-start')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ… Mulai Sesi Fokus</span>
        <button class="modal-close" onclick="closeModal('pomodoro-start')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Durasi</label>
          <select class="form-input" id="pomodoroType">
            <option value="POMODORO_25">ðŸ… Pomodoro - 25 menit</option>
            <option value="DEEP_WORK_60">ðŸ§  Deep Work - 60 menit</option>
            <option value="DEEP_WORK_90">ðŸš€ Ultra Focus - 90 menit</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Task yang dikerjakan</label>
          <input type="text" class="form-input" id="pomodoroTask" placeholder="Apa yang akan dikerjakan?">
        </div>
        <div class="form-group">
          <label class="form-label">Atau pilih dari Goal</label>
          <select class="form-input" id="pomodoroGoal" onchange="document.getElementById('pomodoroTask').value = this.options[this.selectedIndex].text">
            <option value="">-- Pilih Goal --</option>
          </select>
        </div>
        <button class="btn-submit" onclick="startPomodoroFromModal()">ðŸš€ Mulai Fokus!</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Pomodoro Settings -->
  <div class="modal-overlay" id="modal-pomodoro-settings" onclick="if(event.target===this)closeModal('pomodoro-settings')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">â±ï¸ Pomodoro Settings</span>
        <button class="modal-close" onclick="closeModal('pomodoro-settings')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ðŸ… Pomodoro (menit)</label>
          <input type="number" class="form-input" id="settingPomodoro" min="15" max="60" value="25">
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ§  Deep Work (menit)</label>
          <input type="number" class="form-input" id="settingDeepWork" min="30" max="90" value="60">
        </div>
        <div class="form-group">
          <label class="form-label">ðŸš€ Ultra Focus (menit)</label>
          <input type="number" class="form-input" id="settingUltraFocus" min="60" max="120" value="90">
        </div>
        <div class="form-group">
          <label class="form-label">ðŸŽ¯ Target Harian</label>
          <input type="number" class="form-input" id="settingDailyTarget" min="1" max="20" value="8">
        </div>
        <button class="btn-submit" onclick="savePomodoroSettings()">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Learning Add -->
  <div class="modal-overlay" id="modal-learning-add" onclick="if(event.target===this)closeModal('learning-add')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ“š Tambah Learning</span>
        <button class="modal-close" onclick="closeModal('learning-add')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Topik</label>
          <input type="text" class="form-input" id="learningName" placeholder="Apa yang ingin dipelajari?">
        </div>
        <div class="form-group">
          <label class="form-label">Sumber</label>
          <input type="text" class="form-input" id="learningSumber" placeholder="Buku, course, dll">
        </div>
        <div class="form-group">
          <label class="form-label">Target</label>
          <input type="text" class="form-input" id="learningTarget" placeholder="Apa hasil yang diharapkan?">
        </div>
        <button class="btn-submit" onclick="submitLearning()">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Journal Morning -->
  <div class="modal-overlay" id="modal-journal-morning" onclick="if(event.target===this)closeModal('journal-morning')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">â˜€ï¸ Jurnal Pagi</span>
        <button class="modal-close" onclick="closeModal('journal-morning')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ðŸ™ 3 hal yang disyukuri</label>
          <textarea class="form-input form-textarea" id="journalGratitude" placeholder="1. ...&#10;2. ...&#10;3. ..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸŽ¯ Fokus utama hari ini</label>
          <textarea class="form-input form-textarea" id="journalFocus" placeholder="Apa yang harus diselesaikan?"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">âœ¨ Afirmasi positif</label>
          <textarea class="form-input form-textarea" id="journalAffirmation" placeholder="Hari ini saya akan..."></textarea>
        </div>
        <button class="btn-submit" onclick="submitJournal('morning')">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Journal Evening -->
  <div class="modal-overlay" id="modal-journal-evening" onclick="if(event.target===this)closeModal('journal-evening')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸŒ™ Jurnal Malam</span>
        <button class="modal-close" onclick="closeModal('journal-evening')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ðŸ† Apa yang berjalan baik?</label>
          <textarea class="form-input form-textarea" id="journalWins" placeholder="Hal positif hari ini..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ”§ Apa yang bisa diperbaiki?</label>
          <textarea class="form-input form-textarea" id="journalImprove" placeholder="Yang perlu ditingkatkan..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ’¡ Pelajaran hari ini</label>
          <textarea class="form-input form-textarea" id="journalLesson" placeholder="Apa yang dipelajari..."></textarea>
        </div>
        <button class="btn-submit" onclick="submitJournal('evening')">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Vision -->
  <div class="modal-overlay" id="modal-vision-10" onclick="if(event.target===this)closeModal('vision-10')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸŒŸ Visi 10 Tahun</span>
        <button class="modal-close" onclick="closeModal('vision-10')">âœ•</button>
      </div>
      <div class="modal-body">
        <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 16px;">Bayangkan diri Anda 10 tahun dari sekarang. Siapa Anda? Apa yang sudah tercapai?</p>
        <div class="form-group">
          <label class="form-label">ðŸ•Œ Spiritual</label>
          <textarea class="form-input form-textarea" id="vision10Spiritual" placeholder="Visi spiritual..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ’¼ Karir</label>
          <textarea class="form-input form-textarea" id="vision10Karir" placeholder="Visi karir..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Relasi</label>
          <textarea class="form-input form-textarea" id="vision10Relasi" placeholder="Visi relasi/keluarga..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ðŸ’ª Kesehatan</label>
          <textarea class="form-input form-textarea" id="vision10Kesehatan" placeholder="Visi kesehatan..."></textarea>
        </div>
        <button class="btn-submit" onclick="saveVision('10')">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <div class="modal-overlay" id="modal-vision-3" onclick="if(event.target===this)closeModal('vision-3')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸŽ¯ Target 3 Tahun</span>
        <button class="modal-close" onclick="closeModal('vision-3')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Target Utama 3 Tahun</label>
          <textarea class="form-input form-textarea" id="vision3Input" placeholder="Apa yang ingin dicapai dalam 3 tahun?"></textarea>
        </div>
        <button class="btn-submit" onclick="saveVision('3')">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <div class="modal-overlay" id="modal-vision-1" onclick="if(event.target===this)closeModal('vision-1')">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">ðŸ“… Target 1 Tahun</span>
        <button class="modal-close" onclick="closeModal('vision-1')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Target Tahun Ini</label>
          <textarea class="form-input form-textarea" id="vision1Input" placeholder="Apa yang HARUS tercapai tahun ini?"></textarea>
        </div>
        <button class="btn-submit" onclick="saveVision('1')">ðŸ’¾ Simpan</button>
      </div>
    </div>
  </div>
  
  <!-- Modal: Wisdom Detail -->
  <div class="modal-overlay" id="modal-wisdom" onclick="if(event.target===this)closeModal('wisdom')">
    <div class="modal" style="max-width: 600px;">
      <div class="modal-header">
        <span class="modal-title">ðŸ›ï¸ Wisdom Detail</span>
        <button class="modal-close" onclick="closeModal('wisdom')">âœ•</button>
      </div>
      <div class="modal-body" id="wisdomModalBody">
        <!-- Content loaded dynamically -->
      </div>
    </div>
  </div>
  
  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <!-- Wisdom Stoik Data & Functions -->
  <script>
    // WISDOM DATA - 80 Situasi (20 Detail + 60 Ringkas)
    const WISDOM_SITUATIONS = [
      { id: "D01", title: "Istri Menangis Tanpa Alasan", area: "istri", category: "emosional", icon: "ðŸ˜¢", principle: "Empathy Over Logic", principleDesc: "Istri butuh didengar dan dirasakan kehadiranmu, bukan solusi.", bad: ["Kenapa nangis?", "Malu dilihat anak", "Sensitif banget", "[Lihat HP]", "Ya sudah", "[Pergi]"], good: ["Duduk dalam diam", "Genggam tangan", "\"Aku di sini\"", "Siapkan tisu", "Tunggu sabar", "Peluk"], quick: [{emoji:"ðŸ’¨",text:"Release 'want to fix'"},{emoji:"ðŸ¤",text:"Be a good listener"},{emoji:"ðŸ§ ",text:"Matching posture"}], timeline: [{time:"0-10 detik",emoji:"ðŸ’¨",action:"Sedona release"},{time:"10-30 detik",emoji:"ðŸ§ ",action:"Dekati, matching"},{time:"30s-5m",emoji:"ðŸ¤",action:"Hadir tanpa kata"}], mistakes: ["Langsung tanya 'Kenapa?'","Tawarkan solusi","'Aku juga capek'","Mengecilkan"] },
      { id: "D02", title: "Istri Marah Hal Sepele", area: "istri", category: "konflik", icon: "ðŸ˜¤", principle: "Presenting â‰  Real Problem", principleDesc: "Kemarahan tentang handuk seringkali tentang merasa tidak dihargai.", bad: ["Cuma gitu aja?", "Sorry puas?!", "PMS ya?", "[Balas marah]", "[Banting pintu]"], good: ["Diam. Napas.", "\"Aku dengar kamu kesal\"", "\"Ada yang lebih?\"", "Akui perasaan DULU", "Curious bukan furious"], quick: [{emoji:"ðŸ’¨",text:"Release 'want to be right'"},{emoji:"ðŸ¤",text:"Avoid argument"},{emoji:"ðŸ§ ",text:"Second position"}], timeline: [{time:"Detik 1",emoji:"ðŸ’¨",action:"STOP. Jangan reaktif"},{time:"5-10 detik",emoji:"ðŸ›ï¸",action:"Napas. Pause"},{time:"10-30 detik",emoji:"ðŸ¤",action:"Akui, minta maaf"}], mistakes: ["Balas marah","'Cuma gitu aja'","Bela diri"] },
      { id: "D03", title: "Istri Diam / Cold Treatment", area: "istri", category: "konflik", icon: "ðŸ¥¶", principle: "Patience is Not Passive", principleDesc: "Berikan ruang sambil tetap hadir konsisten.", bad: ["Terserah!", "Aku juga bisa diam", "Kekanakan", "[Pura-pura]", "[Keluar rumah]"], good: ["Beri ruang tapi hadir", "Tindakan kecil konsisten", "\"Aku mau memperbaiki\"", "Sabar tanpa passive-aggressive"], quick: [{emoji:"ðŸ’¨",text:"Release 'want of approval'"},{emoji:"ðŸ¤",text:"Genuine interest"},{emoji:"âš›ï¸",text:"Acts of service"}], timeline: [{time:"Hari 1",emoji:"ðŸ’¨",action:"Release. Tindakan kecil"},{time:"Hari 2",emoji:"âš›ï¸",action:"Konsisten"},{time:"Hari 3",emoji:"ðŸ¤",action:"\"Aku siap bicara\""}], mistakes: ["Balas diam","Force bicara","Passive-aggressive"] },
      { id: "D04", title: "Anak Tantrum", area: "anak", category: "emosional", icon: "ðŸ˜­", principle: "Co-regulation First", principleDesc: "Anak belajar dari melihat kita tenang. Kita harus tenang dulu.", bad: ["Diam! Malu!", "Hitung sampai 3!", "[Teriak]", "Anak nakal!", "[Pukul]"], good: ["Turunkan badan sejajar", "Nada tenang rendah", "\"Ayah di sini\"", "Labeling emosi", "Tunggu tenang"], quick: [{emoji:"ðŸ’¨",text:"Release embarrassment"},{emoji:"ðŸ§ ",text:"State shift"},{emoji:"ðŸ¤",text:"Make feel safe"}], timeline: [{time:"Detik 1",emoji:"ðŸ’¨",action:"Tenangkan DIRI dulu"},{time:"5-10 detik",emoji:"ðŸ§ ",action:"Turunkan badan & suara"},{time:"Setelah tenang",emoji:"ðŸ¤",action:"Bicara, bukan ceramah"}], mistakes: ["Teriak lebih keras","Label nakal","Hukum saat tantrum"] },
      { id: "D05", title: "Anak Membantah", area: "anak", category: "konflik", icon: "ðŸ™…", principle: "Connection Before Correction", principleDesc: "Anak dengar dari orang yang memahami mereka.", bad: ["Pokoknya harus!", "Karena Ayah bilang!", "[Pukul]", "[Teriak]"], good: ["Beri pilihan terbatas", "Jelaskan alasan singkat", "Beri waktu transisi", "Pick your battles"], quick: [{emoji:"ðŸ’¨",text:"Release ego"},{emoji:"ðŸ¤",text:"Ask not orders"},{emoji:"ðŸ§ ",text:"Give choices"}], timeline: [{time:"Saat membantah",emoji:"ðŸ’¨",action:"Release. Tenang"},{time:"Merespons",emoji:"ðŸ§ ",action:"Pace dulu"},{time:"Instruksi",emoji:"ðŸ¤",action:"Pilihan + alasan"}], mistakes: ["Power struggle","'Karena Ayah bilang'","Tidak konsisten"] },
      { id: "D06", title: "Anak Malas Sholat", area: "anak", category: "konflik", icon: "ðŸ•Œ", principle: "Model First, Then Mentor", principleDesc: "Anak belajar dari melihat kamu sholat khusyuk.", bad: ["Sholat atau pukul!", "Mau kafir?!", "[Seret paksa]", "Lihat tetangga!"], good: ["'Yuk bareng Ayah'", "Jadikan bonding", "Mulai 1 waktu dulu", "Apresiasi usaha"], quick: [{emoji:"ðŸ’¨",text:"Release pressure"},{emoji:"ðŸ¤",text:"Make attractive"},{emoji:"âš›ï¸",text:"Environment design"}], timeline: [{time:"Sebelum adzan",emoji:"âš›ï¸",action:"Ingatkan hangat"},{time:"Saat adzan",emoji:"ðŸ¤",action:"Ayah bergerak dulu"},{time:"Setelah sholat",emoji:"ðŸ¤",action:"Apresiasi"}], mistakes: ["Ancam neraka","Seret paksa","Bandingkan"] },
      { id: "D07", title: "Merasa Malas & Tidak Produktif", area: "diri", category: "emosional", icon: "ðŸ˜´", principle: "Action Creates Motivation", principleDesc: "Jangan tunggu motivasi. Mulai, motivasi menyusul.", bad: ["Dasar pemalas!", "[Rebahan + guilty]", "[Scroll HP]", "Aku payah"], good: ["'Aku tidak baik-baik saja'", "Satu hal kecil?", "Compassion", "2 menit rule"], quick: [{emoji:"ðŸ’¨",text:"Release self-criticism"},{emoji:"âš›ï¸",text:"2-minute rule"},{emoji:"ðŸ§ ",text:"State change"}], timeline: [{time:"Sadar malas",emoji:"ðŸ’¨",action:"Stop criticism"},{time:"0-2 menit",emoji:"ðŸ§ ",action:"Berdiri, stretch"},{time:"2-5 menit",emoji:"âš›ï¸",action:"2-minute rule"}], mistakes: ["Self-criticism","Tunggu motivasi","All or nothing"] },
      { id: "D08", title: "Overwhelmed", area: "diri", category: "emosional", icon: "ðŸ¤¯", principle: "One Thing at a Time", principleDesc: "Angkat satu hal, lalu berikutnya.", bad: ["Nggak sanggup!", "[Shutdown]", "[Marah keluarga]"], good: ["Stop. Napas. Tulis.", "Prioritas hari ini?", "Satu hal. Fokus.", "Minta bantuan"], quick: [{emoji:"ðŸ’¨",text:"Release 'want of control'"},{emoji:"ðŸ§ ",text:"Brain dump"},{emoji:"âš›ï¸",text:"MIT 1-3"}], timeline: [{time:"Overwhelm hit",emoji:"ðŸ’¨",action:"STOP. Napas 5x"},{time:"5-10 menit",emoji:"ðŸ§ ",action:"Brain dump"},{time:"10-15 menit",emoji:"âš›ï¸",action:"Pilih 3 MIT"}], mistakes: ["Semua sekaligus","Tidak prioritas","Perfectionism"] },
      { id: "D09", title: "Prokrastinasi Kronis", area: "diri", category: "konflik", icon: "â°", principle: "Emotion Management", principleDesc: "Menunda untuk hindari emosi. Address emosi, bukan waktu.", bad: ["Besok aja", "[Scroll 3 jam]", "Aku memang malas"], good: ["Identifikasi emosi", "2-minute start", "Remove friction", "Accountability"], quick: [{emoji:"ðŸ’¨",text:"Release the fear"},{emoji:"âš›ï¸",text:"2-minute rule"},{emoji:"ðŸ§ ",text:"Reframe"}], timeline: [{time:"Sadar menunda",emoji:"ðŸ’¨",action:"Identifikasi emosi"},{time:"2-5 menit",emoji:"âš›ï¸",action:"Remove friction"},{time:"5-30 menit",emoji:"ðŸ§ ",action:"5-4-3-2-1 MULAI"}], mistakes: ["Self-blame tanpa action","Tunggu feel like it"] },
      { id: "D10", title: "Beda Pandangan Parenting", area: "istri", category: "keputusan", icon: "ðŸ¤", principle: "United Front", principleDesc: "Anak exploit inconsistency. Satu suara depan anak.", bad: ["Pokoknya cara aku!", "[Tengkar depan anak]", "Terserah!"], good: ["Diskusi private", "Cari common ground", "United front depan anak"], quick: [{emoji:"ðŸ’¨",text:"Release 'want to be right'"},{emoji:"ðŸ¤",text:"Seek to understand"},{emoji:"ðŸ§ ",text:"Third position"}], timeline: [{time:"Beda muncul",emoji:"ðŸ’¨",action:"PAUSE. Bukan depan anak"},{time:"Private",emoji:"ðŸ¤",action:"Dengar perspektif istri"},{time:"Diskusi",emoji:"ðŸ¤",action:"Common ground"}], mistakes: ["Tengkar depan anak","Undermine pasangan"] },
      { id: "D11", title: "Istri Curhat", area: "istri", category: "komunikasi", icon: "ðŸ’¬", principle: "Listen to Understand", principleDesc: "Istri butuh didengar dan divalidasi sebelum solusi.", bad: ["Harusnya kamu...", "[Sambil HP]", "Terlalu sensitif"], good: ["Full attention", "\"Cerita. Aku dengerin\"", "'Solusi atau dengerin?'"], quick: [{emoji:"ðŸ’¨",text:"Release 'want to fix'"},{emoji:"ðŸ¤",text:"Be a good listener"},{emoji:"ðŸ§ ",text:"Backtracking"}], timeline: [{time:"Mulai",emoji:"ðŸ’¨",action:"Stop aktivitas"},{time:"Selama",emoji:"ðŸ§ ",action:"Backtracking"},{time:"Setelah",emoji:"ðŸ¤",action:"'Solusi atau dengerin?'"}], mistakes: ["Langsung solusi","Multitasking","Interupsi"] },
      { id: "D12", title: "Menegur Anak", area: "anak", category: "komunikasi", icon: "ðŸ—£ï¸", principle: "Behavior, Not Child", principleDesc: "'Kamu bohong' vs 'Kamu pembohong'. Aksi vs identitas.", bad: ["Kamu nakal!", "Bodoh!", "[Teriak depan orang]"], good: ["Tegur perilaku", "Jelaskan kenapa salah", "Private", "'Tetap sayang'"], quick: [{emoji:"ðŸ’¨",text:"Release anger"},{emoji:"ðŸ¤",text:"Begin with praise"},{emoji:"ðŸ§ ",text:"Separate B-I"}], timeline: [{time:"Terjadi",emoji:"ðŸ’¨",action:"PAUSE"},{time:"Siap",emoji:"ðŸ¤",action:"Private"},{time:"Menegur",emoji:"ðŸ§ ",action:"Praise. Specific. Impact"}], mistakes: ["Saat marah","Depan orang","Label karakter"] },
      { id: "D13", title: "Pertengkaran Berulang", area: "istri", category: "konflik", icon: "ðŸ”„", principle: "Pattern is Message", principleDesc: "Pertengkaran berulang = kebutuhan belum terpenuhi.", bad: ["Ini lagi!", "'Selalu!'", "[Walk away]"], good: ["Stop pattern", "Cari underlying need", "Schedule khusus"], quick: [{emoji:"ðŸ’¨",text:"Release frustration"},{emoji:"ðŸ§ ",text:"Meta position"},{emoji:"ðŸ¤",text:"Ask needs"}], timeline: [{time:"Muncul",emoji:"ðŸ’¨",action:"RECOGNIZE"},{time:"0-30 detik",emoji:"ðŸ§ ",action:"INTERRUPT"},{time:"Diskusi",emoji:"ðŸ¤",action:"Fokus needs"}], mistakes: ["Repeat pattern","Masa lalu","'Selalu/tidak pernah'"] },
      { id: "D14", title: "Anak Malas Belajar", area: "anak", category: "konflik", icon: "ðŸ“š", principle: "Make Learning Intrinsic", principleDesc: "Anak INGIN belajar, bukan karena takut.", bad: ["Belajar atau marah!", "Lihat si X!", "[Seret]"], good: ["Cari kenapa", "Buat menyenangkan", "Dampingi", "Small chunks"], quick: [{emoji:"ðŸ’¨",text:"Release anxiety nilai"},{emoji:"ðŸ¤",text:"Make attractive"},{emoji:"âš›ï¸",text:"Reduce friction"}], timeline: [{time:"Sebelum",emoji:"âš›ï¸",action:"Environment"},{time:"Mengajak",emoji:"ðŸ¤",action:"Choice"},{time:"Selesai",emoji:"ðŸ¤",action:"Celebrate"}], mistakes: ["Paksa","Bandingkan","Fokus nilai"] },
      { id: "D15", title: "Godaan Maksiat", area: "diri", category: "konflik", icon: "âš ï¸", principle: "Win First Battle", principleDesc: "Dimenangkan di detik pertama.", bad: ["Sekali aja", "Nggak ada yang lihat", "[Guilty berlarut]"], good: ["Ta'awudz segera", "Alihkan pandangan", "Ganti aktivitas", "Istighfar jika jatuh"], quick: [{emoji:"ðŸ’¨",text:"Release urge"},{emoji:"â˜ªï¸",text:"Ta'awudz"},{emoji:"âš›ï¸",text:"Leave situasi"}], timeline: [{time:"Detik 1",emoji:"â˜ªï¸",action:"TA'AWUDZ"},{time:"0-10 detik",emoji:"ðŸ’¨",action:"Separate"},{time:"10-30 detik",emoji:"âš›ï¸",action:"LEAVE"}], mistakes: ["Negotiate dengan godaan","Lama di trigger","Self-hate"] },
      { id: "D16", title: "Istri Merasa Tidak Dihargai", area: "istri", category: "emosional", icon: "ðŸ’”", principle: "Appreciation is Daily", principleDesc: "Apresiasi bukan one-time event tapi kebiasaan harian.", bad: ["Aku juga kerja!", "Emang tugasmu", "[Defensive]"], good: ["Dengarkan serius", "Apresiasi spesifik", "Tindakan nyata"], quick: [{emoji:"ðŸ’¨",text:"Release defensiveness"},{emoji:"ðŸ¤",text:"Give appreciation"},{emoji:"âš›ï¸",text:"Daily habit"}], timeline: [{time:"Saat keluhan",emoji:"ðŸ’¨",action:"Jangan 'aku juga'"},{time:"Merespons",emoji:"ðŸ¤",action:"Akui. Minta maaf"},{time:"Daily",emoji:"âš›ï¸",action:"1 apresiasi/hari"}], mistakes: ["Defensive","Generik 'thanks'","Hanya saat diminta"] },
      { id: "D17", title: "Self-Talk Negatif", area: "diri", category: "komunikasi", icon: "ðŸ—£ï¸", principle: "You Are Not Your Thoughts", principleDesc: "Kamu adalah yang mengamati thoughts, bukan thoughts itu.", bad: ["Aku memang bodoh", "Selalu gagal", "Tidak layak"], good: ["'Ini cuma thoughts'", "Challenge dengan fakta", "Self-compassion"], quick: [{emoji:"ðŸ’¨",text:"Release identification"},{emoji:"ðŸ§ ",text:"Reframe"},{emoji:"ðŸ¤",text:"Self-compassion"}], timeline: [{time:"Saat muncul",emoji:"ðŸ’¨",action:"'Ini thoughts, bukan fakta'"},{time:"30-60 detik",emoji:"ðŸ§ ",action:"Challenge"},{time:"1-2 menit",emoji:"ðŸ¤",action:"Reframe"}], mistakes: ["Percaya 100%","Tidak challenge","Tidak ada compassion"] },
      { id: "D18", title: "Anak Kecanduan Gadget", area: "anak", category: "emosional", icon: "ðŸ“±", principle: "Replace, Not Remove", principleDesc: "Mengambil gadget tanpa alternatif tidak berhasil jangka panjang.", bad: ["Ayah buang HP!", "[Ambil paksa]", "Rusak otakmu!"], good: ["Aturan BERSAMA", "Warning sebelum stop", "Alternatif menarik", "Model: kurangi HP sendiri"], quick: [{emoji:"ðŸ’¨",text:"Release frustration"},{emoji:"ðŸ¤",text:"Offer alternatives"},{emoji:"âš›ï¸",text:"Environment design"}], timeline: [{time:"Setting rules",emoji:"ðŸ¤",action:"Buat BERSAMA"},{time:"Daily",emoji:"âš›ï¸",action:"Warning system"},{time:"Tantrum",emoji:"ðŸ’¨",action:"Stay calm. Konsisten"}], mistakes: ["Ambil paksa","Tidak ada alternatif","Ortu main HP terus"] },
      { id: "D19", title: "Menyampaikan Kritik ke Istri", area: "istri", category: "komunikasi", icon: "ðŸ’¬", principle: "Sandwich with Sincerity", principleDesc: "Positif â†’ Kritik â†’ Positif. Tapi harus tulus.", bad: ["'Kamu selalu!'", "[Saat emosi]", "[Depan orang]"], good: ["Waktu tepat", "Mulai positif", "'Aku merasa' bukan 'Kamu selalu'", "Tawarkan solusi"], quick: [{emoji:"ðŸ’¨",text:"Release anger dulu"},{emoji:"ðŸ¤",text:"Begin with praise"},{emoji:"ðŸ§ ",text:"I-statement"}], timeline: [{time:"Sebelum",emoji:"ðŸ’¨",action:"Release. Cek niat"},{time:"Mulai",emoji:"ðŸ¤",action:"Positif genuine"},{time:"Kritik",emoji:"ðŸ§ ",action:"I-statement. Spesifik"}], mistakes: ["Saat emosi","'Selalu/tidak pernah'","Tanpa solusi"] },
      { id: "D20", title: "Kebiasaan Buruk", area: "diri", category: "konflik", icon: "ðŸ”", principle: "Systems, Not Willpower", principleDesc: "Willpower adalah finite. Desain environment dan sistem.", bad: ["Aku memang lemah", "Besok mulai (berulang)", "[Self-hate]"], good: ["Understand habit loop", "Replace dengan lebih sehat", "Design environment", "Track progress"], quick: [{emoji:"ðŸ’¨",text:"Release shame"},{emoji:"âš›ï¸",text:"Habit loop"},{emoji:"ðŸ§ ",text:"Replace"}], timeline: [{time:"Awareness",emoji:"ðŸ§ ",action:"Track kapan terjadi"},{time:"Design",emoji:"âš›ï¸",action:"Environment + Substitution"},{time:"Slip",emoji:"ðŸ’¨",action:"Release shame. Mulai lagi"}], mistakes: ["Rely on willpower","All or nothing","Self-hate saat gagal"] },
      // === 60 SITUASI RINGKAS (S21-S80) ===
      // ISTRI - Emosional (S21-S28)
      { id: "S21", title: "Istri Kelelahan", area: "istri", category: "emosional", icon: "ðŸ˜©", principle: "Actions Speak Louder", principleDesc: "Jangan tanya 'ada yang bisa dibantu?', langsung kerjakan.", simple: true },
      { id: "S22", title: "Istri Cemburu", area: "istri", category: "emosional", icon: "ðŸ˜’", principle: "Validate, Don't Defend", principleDesc: "Akui perasaannya sebelum jelaskan fakta.", simple: true },
      { id: "S23", title: "Istri Insecure", area: "istri", category: "emosional", icon: "ðŸ¥º", principle: "Consistent Reassurance", principleDesc: "Satu kali bilang 'cantik' tidak cukup. Ulangi setiap hari.", simple: true },
      { id: "S24", title: "Istri PMS", area: "istri", category: "emosional", icon: "ðŸŒ™", principle: "Extra Patience Mode", principleDesc: "Ini biologis. Bukan personal attack. Sabar extra.", simple: true },
      { id: "S25", title: "Istri Rindu Quality Time", area: "istri", category: "emosional", icon: "ðŸ’‘", principle: "Presence Over Presents", principleDesc: "Waktu berdua tanpa HP lebih berharga dari hadiah mahal.", simple: true },
      { id: "S26", title: "Istri Butuh Me-Time", area: "istri", category: "emosional", icon: "ðŸ§˜", principle: "Support Her Space", principleDesc: "Jaga anak tanpa diminta. Beri ia waktu untuk dirinya.", simple: true },
      { id: "S27", title: "Istri Homesick", area: "istri", category: "emosional", icon: "ðŸ ", principle: "Honor Her Roots", principleDesc: "Keluarganya adalah bagian dari dirinya. Fasilitasi.", simple: true },
      { id: "S28", title: "Istri Overwhelmed Rumah Tangga", area: "istri", category: "emosional", icon: "ðŸƒâ€â™€ï¸", principle: "Share The Load", principleDesc: "Bukan 'membantu' tapi 'berbagi tanggung jawab'.", simple: true },
      // ISTRI - Konflik (S29-S35)
      { id: "S29", title: "Istri Beda Pendapat Keuangan", area: "istri", category: "konflik", icon: "ðŸ’°", principle: "Same Team, Same Goal", principleDesc: "Bukan uangmu vs uangku. Ini uang keluarga kita.", simple: true },
      { id: "S30", title: "Istri Komplain Mertua", area: "istri", category: "konflik", icon: "ðŸ‘µ", principle: "Her Corner First", principleDesc: "Dengar dan validasi dulu. Jangan langsung bela ibumu.", simple: true },
      { id: "S31", title: "Istri Merasa Diabaikan", area: "istri", category: "konflik", icon: "ðŸ‘»", principle: "Attention is Love", principleDesc: "Hadir fisik tapi pikiran di HP = tidak hadir.", simple: true },
      { id: "S32", title: "Istri Bandingkan dengan Suami Lain", area: "istri", category: "konflik", icon: "âš–ï¸", principle: "Hear The Need", principleDesc: "Di balik perbandingan ada kebutuhan yang belum terpenuhi.", simple: true },
      { id: "S33", title: "Istri Protes Kerja Lembur", area: "istri", category: "konflik", icon: "â°", principle: "Balance is Intentional", principleDesc: "Karir penting, tapi keluarga adalah 'kenapa' di balik karir.", simple: true },
      { id: "S34", title: "Istri Ingin Pindah Rumah", area: "istri", category: "konflik", icon: "ðŸ¡", principle: "Explore Together", principleDesc: "Jangan langsung tolak. Pahami alasan di baliknya.", simple: true },
      { id: "S35", title: "Istri Tidak Suka Temanmu", area: "istri", category: "konflik", icon: "ðŸ‘¥", principle: "Prioritize Wisely", principleDesc: "Teman datang dan pergi. Istri adalah partner selamanya.", simple: true },
      // ISTRI - Komunikasi (S36-S40)
      { id: "S36", title: "Istri Minta Pendapat", area: "istri", category: "komunikasi", icon: "ðŸ¤”", principle: "Ask Before Advise", principleDesc: "'Mau pendapat jujur atau dukungan?' Tanya dulu.", simple: true },
      { id: "S37", title: "Istri Cerita Masalah Kerja", area: "istri", category: "komunikasi", icon: "ðŸ’¼", principle: "Empathize First", principleDesc: "Jangan langsung kasih solusi. Rasakan dulu frustrasinya.", simple: true },
      { id: "S38", title: "Membicarakan Masa Depan", area: "istri", category: "komunikasi", icon: "ðŸ”®", principle: "Dream Together", principleDesc: "Visi bersama adalah lem yang merekatkan.", simple: true },
      { id: "S39", title: "Istri Diam Setelah Bertengkar", area: "istri", category: "komunikasi", icon: "ðŸ¤", principle: "Take Initiative", principleDesc: "Yang lebih dewasa yang memulai rekonsiliasi.", simple: true },
      { id: "S40", title: "Istri Bicara saat Kamu Capek", area: "istri", category: "komunikasi", icon: "ðŸ˜ª", principle: "Honest & Kind", principleDesc: "'Aku ingin dengar, tapi butuh 10 menit istirahat dulu.'", simple: true },
      // ANAK - Emosional (S41-S48)
      { id: "S41", title: "Anak Takut Gelap", area: "anak", category: "emosional", icon: "ðŸŒ‘", principle: "Validate, Don't Mock", principleDesc: "Takutnya nyata baginya. Temani, jangan ejek.", simple: true },
      { id: "S42", title: "Anak Mimpi Buruk", area: "anak", category: "emosional", icon: "ðŸ˜°", principle: "Safe Haven", principleDesc: "Peluk, tenangkan, bacakan doa. Ayah adalah keamanan.", simple: true },
      { id: "S43", title: "Anak Cemburu Adik", area: "anak", category: "emosional", icon: "ðŸ‘¶", principle: "Special Time", principleDesc: "Beri waktu one-on-one khusus untuk kakak.", simple: true },
      { id: "S44", title: "Anak Minder", area: "anak", category: "emosional", icon: "ðŸ˜”", principle: "Celebrate Uniqueness", principleDesc: "Setiap anak punya kelebihan berbeda. Temukan miliknya.", simple: true },
      { id: "S45", title: "Anak Sedih Ditinggal Teman", area: "anak", category: "emosional", icon: "ðŸ’”", principle: "Be His Friend", principleDesc: "Ayah bisa jadi teman terbaik saat dunia terasa sepi.", simple: true },
      { id: "S46", title: "Anak Gagal Ujian", area: "anak", category: "emosional", icon: "ðŸ“", principle: "Effort Over Result", principleDesc: "Apresiasi usaha. Nilai bukan segalanya.", simple: true },
      { id: "S47", title: "Anak Tidak Percaya Diri", area: "anak", category: "emosional", icon: "ðŸ™ˆ", principle: "Build With Small Wins", principleDesc: "Berikan tanggung jawab kecil yang bisa ia sukses.", simple: true },
      { id: "S48", title: "Anak Marah Tidak Dapat Mainan", area: "anak", category: "emosional", icon: "ðŸ§¸", principle: "Teach Delayed Gratification", principleDesc: "Tidak semua keinginan harus segera dipenuhi.", simple: true },
      // ANAK - Konflik (S49-S56)
      { id: "S49", title: "Anak Berbohong", area: "anak", category: "konflik", icon: "ðŸ¤¥", principle: "Safety to Tell Truth", principleDesc: "Anak bohong karena takut. Buat jujur terasa aman.", simple: true },
      { id: "S50", title: "Anak Bertengkar dengan Saudara", area: "anak", category: "konflik", icon: "ðŸ‘Š", principle: "Mediator, Not Judge", principleDesc: "Jangan langsung vonis. Dengar kedua sisi.", simple: true },
      { id: "S51", title: "Anak Tidak Mau Berbagi", area: "anak", category: "konflik", icon: "ðŸš«", principle: "Model Sharing", principleDesc: "Berbagi adalah skill. Ajarkan dengan contoh.", simple: true },
      { id: "S52", title: "Anak Melawan Aturan", area: "anak", category: "konflik", icon: "â›”", principle: "Explain The Why", principleDesc: "Aturan tanpa alasan = pemberontakan.", simple: true },
      { id: "S53", title: "Anak Mau Menang Sendiri", area: "anak", category: "konflik", icon: "ðŸ†", principle: "Teach Fair Play", principleDesc: "Kalah adalah bagian dari hidup. Ajarkan sportivitas.", simple: true },
      { id: "S54", title: "Anak Memukul Teman", area: "anak", category: "konflik", icon: "ðŸ‘‹", principle: "Emotion Coaching", principleDesc: "Marah boleh. Memukul tidak. Ajarkan alternatif.", simple: true },
      { id: "S55", title: "Anak Tidak Mau Makan", area: "anak", category: "konflik", icon: "ðŸ½ï¸", principle: "No Power Struggle", principleDesc: "Jangan jadikan makanan medan perang.", simple: true },
      { id: "S56", title: "Anak Mogok Sekolah", area: "anak", category: "konflik", icon: "ðŸ«", principle: "Find The Root", principleDesc: "Ada alasan di balik penolakan. Gali dengan sabar.", simple: true },
      // ANAK - Komunikasi (S57-S62)
      { id: "S57", title: "Anak Bertanya tentang Kematian", area: "anak", category: "komunikasi", icon: "ðŸ•Šï¸", principle: "Age-Appropriate Honesty", principleDesc: "Jujur sesuai usia. Jangan berbohong tentang hal besar.", simple: true },
      { id: "S58", title: "Anak Tanya 'Dari Mana Bayi?'", area: "anak", category: "komunikasi", icon: "ðŸ‘¼", principle: "Simple Truth", principleDesc: "Jawab sederhana, jujur, sesuai usia.", simple: true },
      { id: "S59", title: "Anak Curhat Masalah Teman", area: "anak", category: "komunikasi", icon: "ðŸ’­", principle: "Listen More", principleDesc: "Tahan nasihat. Biarkan ia cerita sampai selesai.", simple: true },
      { id: "S60", title: "Anak Bilang 'Benci Ayah'", area: "anak", category: "komunikasi", icon: "ðŸ’¢", principle: "Hear The Feeling", principleDesc: "Ia tidak benci. Ia sedang marah atau kecewa.", simple: true },
      { id: "S61", title: "Anak Tidak Mau Cerita", area: "anak", category: "komunikasi", icon: "ðŸ™Š", principle: "Open Door Policy", principleDesc: "Jangan paksa. Tunjukkan kamu selalu tersedia.", simple: true },
      { id: "S62", title: "Memuji Anak dengan Benar", area: "anak", category: "komunikasi", icon: "â­", principle: "Praise The Process", principleDesc: "'Kamu kerja keras' lebih baik dari 'Kamu pintar'.", simple: true },
      // DIRI - Emosional (S63-S70)
      { id: "S63", title: "Merasa Tidak Cukup", area: "diri", category: "emosional", icon: "ðŸ“‰", principle: "Progress, Not Perfection", principleDesc: "Bandingkan dengan dirimu kemarin, bukan orang lain.", simple: true },
      { id: "S64", title: "Burnout", area: "diri", category: "emosional", icon: "ðŸ”¥", principle: "Rest is Productive", principleDesc: "Istirahat bukan kemalasan. Itu maintenance.", simple: true },
      { id: "S65", title: "Kesepian di Tengah Keluarga", area: "diri", category: "emosional", icon: "ðŸï¸", principle: "Express Your Needs", principleDesc: "Keluarga bukan pembaca pikiran. Komunikasikan.", simple: true },
      { id: "S66", title: "Rasa Bersalah Terus Menerus", area: "diri", category: "emosional", icon: "ðŸ˜ž", principle: "Guilt is a Teacher", principleDesc: "Pelajari, minta maaf, perbaiki, lalu lepaskan.", simple: true },
      { id: "S67", title: "Takut Gagal", area: "diri", category: "emosional", icon: "ðŸ˜¨", principle: "Failure is Data", principleDesc: "Gagal = feedback untuk iterasi berikutnya.", simple: true },
      { id: "S68", title: "Iri dengan Pencapaian Orang Lain", area: "diri", category: "emosional", icon: "ðŸ‘€", principle: "Their Win â‰  Your Loss", principleDesc: "Rezeki sudah diatur. Fokus pada lane-mu.", simple: true },
      { id: "S69", title: "Merasa Tidak Bersyukur", area: "diri", category: "emosional", icon: "ðŸ™", principle: "Gratitude is Practice", principleDesc: "Syukur bukan feeling. Itu muscle yang dilatih.", simple: true },
      { id: "S70", title: "Anxiety tentang Masa Depan", area: "diri", category: "emosional", icon: "ðŸŒªï¸", principle: "Control The Controllables", principleDesc: "Fokus pada aksi hari ini, bukan hasil besok.", simple: true },
      // DIRI - Konflik (S71-S76)
      { id: "S71", title: "Tidak Konsisten Ibadah", area: "diri", category: "konflik", icon: "ðŸ•‹", principle: "Start Small, Stay Steady", principleDesc: "1 rakaat konsisten > 11 rakaat sekali lalu berhenti.", simple: true },
      { id: "S72", title: "Kebiasaan Scroll Media Sosial", area: "diri", category: "konflik", icon: "ðŸ“²", principle: "Friction is Freedom", principleDesc: "Logout, hapus app, taruh HP jauh.", simple: true },
      { id: "S73", title: "Sering Terlambat", area: "diri", category: "konflik", icon: "â±ï¸", principle: "Respect Time", principleDesc: "Terlambat = mengatakan 'waktuku lebih penting'.", simple: true },
      { id: "S74", title: "Makan Berlebihan", area: "diri", category: "konflik", icon: "ðŸ”", principle: "Eat to Live", principleDesc: "Makan saat lapar, berhenti sebelum kenyang.", simple: true },
      { id: "S75", title: "Sulit Bangun Subuh", area: "diri", category: "konflik", icon: "ðŸŒ™", principle: "Night Determines Morning", principleDesc: "Tidur awal. Taruh alarm jauh. Niat sebelum tidur.", simple: true },
      { id: "S76", title: "Mudah Marah", area: "diri", category: "konflik", icon: "ðŸ˜¡", principle: "Pause is Power", principleDesc: "Antara stimulus dan respons ada ruang. Gunakan.", simple: true },
      // DIRI - Komunikasi/Keputusan (S77-S80)
      { id: "S77", title: "Sulit Mengatakan Tidak", area: "diri", category: "komunikasi", icon: "ðŸš¦", principle: "No is a Complete Sentence", principleDesc: "'Tidak' yang jujur lebih baik dari 'Ya' yang terpaksa.", simple: true },
      { id: "S78", title: "Overthinking Keputusan", area: "diri", category: "keputusan", icon: "ðŸ¤¯", principle: "Good Enough is Good", principleDesc: "70% yakin + action > 100% yakin tanpa action.", simple: true },
      { id: "S79", title: "Menyesal Keputusan Lalu", area: "diri", category: "keputusan", icon: "â†©ï¸", principle: "Learn and Release", principleDesc: "Kamu memutuskan dengan info saat itu. Move on.", simple: true },
      { id: "S80", title: "Konflik dengan Rekan Kerja", area: "diri", category: "konflik", icon: "ðŸ¤", principle: "Separate Person from Problem", principleDesc: "Serang masalahnya, bukan orangnya.", simple: true }
    ];

    // WISDOM QUOTES - Untuk shortcut di header (kombinasi pelajaran)
    // Wisdom Quotes akan diload dari database quotes
    // Ini adalah fallback jika database tidak tersedia
    let WISDOM_QUOTES_CACHE = [
      { text: "Antara stimulus dan respons, ada ruang. Di ruang itu ada kekuatan untuk memilih.", source: "Viktor Frankl + Stoic", icon: "ðŸ›ï¸", framework: "STOICISM" },
      { text: "Kamu tidak bisa mengontrol angin, tapi bisa mengatur layar.", source: "Stoicism", icon: "â›µ", framework: "STOICISM" },
      { text: "Bisakah aku melepaskan ini? Maukah aku melepaskan ini? Kapan?", source: "Sedona Method", icon: "ðŸ’¨", framework: "SEDONA" },
      { text: "Emosi hanyalah tamu. Biarkan datang, sapa, lalu lepaskan pergi.", source: "Sedona + Mindfulness", icon: "ðŸšª", framework: "SEDONA" },
      { text: "Perubahan kecil yang konsisten menciptakan hasil luar biasa.", source: "Atomic Habits", icon: "âš›ï¸", framework: "ATOMIC" },
      { text: "Peta bukanlah wilayah. Persepsimu bukan realita.", source: "NLP", icon: "ðŸ—ºï¸", framework: "NLP" },
      { text: "Mulailah dengan pujian dan apresiasi yang tulus.", source: "Dale Carnegie", icon: "ðŸ¤", framework: "CARNEGIE" },
      { text: "Sebaik-baik kalian adalah yang paling baik terhadap keluarganya.", source: "Hadits", icon: "â˜ªï¸", framework: "ISLAMIC" },
      { text: "Ukuran pikiranmu menentukan ukuran kesuksesanmu.", source: "David Schwartz - Berpikir Besar", icon: "ðŸ’¡", framework: "BERPIKIR_BESAR" },
      { text: "Percaya kamu bisa, dan kamu sudah setengah jalan menuju kesuksesan.", source: "David Schwartz - Berpikir Besar", icon: "ðŸ’¡", framework: "BERPIKIR_BESAR" },
      { text: "Tindakan menyembuhkan ketakutan. Ketidakaktifan memperkuatnya.", source: "David Schwartz - Berpikir Besar", icon: "ðŸš€", framework: "BERPIKIR_BESAR" },
      { text: "Sikap lebih penting dari kecerdasan.", source: "David Schwartz - Berpikir Besar", icon: "ðŸ’¡", framework: "BERPIKIR_BESAR" }
    ];

    // Framework icons mapping
    const WISDOM_FRAMEWORK_ICONS = {
      'STOICISM': 'ðŸ›ï¸',
      'NLP': 'ðŸ§ ',
      'SEDONA': 'ðŸ’¨',
      'ATOMIC': 'âš›ï¸',
      'CARNEGIE': 'ðŸ¤',
      'ISLAMIC': 'â˜ªï¸',
      'BERPIKIR_BESAR': 'ðŸ’¡'
    };

    // Wisdom State
    let wisdomActiveArea = 'all';
    let wisdomActiveCategory = 'all';

    // Render Wisdom Cards
    function renderWisdomCards() {
      const grid = document.getElementById('wisdomGrid');
      const search = document.getElementById('wisdomSearch').value.toLowerCase();
      
      const filtered = WISDOM_SITUATIONS.filter(s => {
        if (wisdomActiveArea !== 'all' && s.area !== wisdomActiveArea) return false;
        if (wisdomActiveCategory !== 'all' && s.category !== wisdomActiveCategory) return false;
        if (search && !s.title.toLowerCase().includes(search) && !s.principle.toLowerCase().includes(search)) return false;
        return true;
      });

      if (filtered.length === 0) {
        grid.innerHTML = '<div class="wisdom-empty"><div class="wisdom-empty-icon">ðŸ”</div><p>Tidak ada situasi ditemukan</p></div>';
        return;
      }

      const areaLabels = { istri: 'ðŸ‘© Istri', anak: 'ðŸ‘§ Anak', diri: 'ðŸ§” Diri' };
      const catLabels = { emosional: 'ðŸ˜¢ Emosional', konflik: 'âš¡ Konflik', komunikasi: 'ðŸ’¬ Komunikasi', keputusan: 'ðŸ¤” Keputusan' };

      grid.innerHTML = filtered.map(s => `
        <div class="wisdom-card area-${s.area} ${s.simple ? 'simple' : ''}" onclick="openWisdomDetail('${s.id}')">
          <div class="wisdom-card-header">
            <span class="wisdom-card-icon">${s.icon}</span>
            <div class="wisdom-card-title-area">
              <div class="wisdom-card-id">${s.id} ${s.simple ? '<span style="font-size:8px;background:#e0e0e0;padding:1px 4px;border-radius:4px;margin-left:4px;">RINGKAS</span>' : ''}</div>
              <div class="wisdom-card-title">${s.title}</div>
            </div>
          </div>
          <div class="wisdom-card-tags">
            <span class="wisdom-tag area-${s.area}">${areaLabels[s.area]}</span>
            <span class="wisdom-tag">${catLabels[s.category]}</span>
          </div>
          <p class="wisdom-card-principle">${s.principle}</p>
          ${!s.simple ? `<div class="wisdom-card-frameworks">
            <span class="wisdom-fw-dot" title="Stoic">ðŸ›ï¸</span>
            <span class="wisdom-fw-dot" title="NLP">ðŸ§ </span>
            <span class="wisdom-fw-dot" title="Sedona">ðŸ’¨</span>
            <span class="wisdom-fw-dot" title="Atomic">âš›ï¸</span>
            <span class="wisdom-fw-dot" title="Carnegie">ðŸ¤</span>
            <span class="wisdom-fw-dot" title="Islamic">â˜ªï¸</span>
          </div>` : ''}
        </div>
      `).join('');
    }

    // Filter Wisdom Cards
    function filterWisdomCards() {
      renderWisdomCards();
    }

    // Setup Wisdom Chips
    document.querySelectorAll('#wisdomAreaChips .wisdom-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        document.querySelectorAll('#wisdomAreaChips .wisdom-chip').forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        wisdomActiveArea = chip.dataset.area;
        renderWisdomCards();
      });
    });

    document.querySelectorAll('#wisdomCategoryChips .wisdom-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        document.querySelectorAll('#wisdomCategoryChips .wisdom-chip').forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        wisdomActiveCategory = chip.dataset.cat;
        renderWisdomCards();
      });
    });

    // Open Wisdom Detail
    function openWisdomDetail(id) {
      const s = WISDOM_SITUATIONS.find(x => x.id === id);
      if (!s) return;

      const areaLabels = { istri: 'ðŸ‘© Istri', anak: 'ðŸ‘§ Anak', diri: 'ðŸ§” Diri' };
      const catLabels = { emosional: 'ðŸ˜¢ Emosional', konflik: 'âš¡ Konflik', komunikasi: 'ðŸ’¬ Komunikasi', keputusan: 'ðŸ¤” Keputusan' };

      // Check if simple situation
      if (s.simple) {
        document.getElementById('wisdomModalBody').innerHTML = `
          <div class="wisdom-modal-header">
            <div class="wisdom-modal-icon">${s.icon}</div>
            <h2 class="wisdom-modal-title">${s.title}</h2>
            <p class="wisdom-modal-subtitle">${s.id} â€¢ ${areaLabels[s.area]} â€¢ ${catLabels[s.category]}</p>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-principle-box" style="padding: 24px;">
              <div class="wisdom-principle-text" style="font-size: 20px;">"${s.principle}"</div>
              <div class="wisdom-principle-desc" style="font-size: 14px; margin-top: 12px;">${s.principleDesc}</div>
            </div>
          </div>

          <div class="wisdom-section" style="text-align: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius-md);">
            <p style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">ðŸ’¡ Ini adalah situasi ringkas</p>
            <p style="font-size: 11px; color: var(--gray-400);">Untuk panduan lebih detail dengan Quick Practice, Timeline, dan Respons lengkap, lihat situasi dengan prefix D01-D20</p>
          </div>
        `;
      } else {
        document.getElementById('wisdomModalBody').innerHTML = `
          <div class="wisdom-modal-header">
            <div class="wisdom-modal-icon">${s.icon}</div>
            <h2 class="wisdom-modal-title">${s.title}</h2>
            <p class="wisdom-modal-subtitle">${s.id} â€¢ ${areaLabels[s.area]} â€¢ ${catLabels[s.category]}</p>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-section-title">Prinsip Utama</div>
            <div class="wisdom-principle-box">
              <div class="wisdom-principle-text">${s.principle}</div>
              <div class="wisdom-principle-desc">${s.principleDesc}</div>
            </div>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-section-title">Quick Practice</div>
            <div class="wisdom-quick-grid">
              ${s.quick.map(q => `
                <div class="wisdom-quick-item">
                  <div class="wisdom-quick-emoji">${q.emoji}</div>
                  <div class="wisdom-quick-text">${q.text}</div>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-section-title">Respons</div>
            <div class="wisdom-response-grid">
              <div class="wisdom-response-col bad">
                <h4>âŒ Hindari</h4>
                <ul class="wisdom-response-list">
                  ${s.bad.map(b => `<li>${b}</li>`).join('')}
                </ul>
              </div>
              <div class="wisdom-response-col good">
                <h4>âœ… Lakukan</h4>
                <ul class="wisdom-response-list">
                  ${s.good.map(g => `<li>${g}</li>`).join('')}
                </ul>
              </div>
            </div>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-section-title">Timeline</div>
            <div class="wisdom-timeline">
              ${s.timeline.map(t => `
                <div class="wisdom-timeline-item">
                  <div class="wisdom-timeline-dot">${t.emoji}</div>
                  <div class="wisdom-timeline-time">${t.time}</div>
                  <div class="wisdom-timeline-action">${t.action}</div>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="wisdom-section">
            <div class="wisdom-section-title">Kesalahan Umum</div>
            <div class="wisdom-mistakes">
              ${s.mistakes.map(m => `<span class="wisdom-mistake-tag">${m}</span>`).join('')}
            </div>
          </div>
        `;
      }

      openModal('wisdom');
    }

    // Show Wisdom Quote Popup
    function showWisdomQuote() {
      getNewWisdomQuote();
      document.getElementById('wisdomQuotePopup').classList.add('show');
    }

    // Get New Random Wisdom Quote - Uses database quotes with fallback
    function getNewWisdomQuote() {
      // Try to use quotes from database (loaded in app.js)
      let quotesToUse = [];
      
      try {
        if (typeof getAvailableQuotes === 'function') {
          const dbQuotes = getAvailableQuotes();
          console.log('[WisdomQuote] getAvailableQuotes returned:', dbQuotes?.length || 0, 'quotes');
          if (dbQuotes && Array.isArray(dbQuotes) && dbQuotes.length > 0) {
            quotesToUse = dbQuotes;
          }
        }
      } catch (e) {
        console.log('[WisdomQuote] Error getting quotes:', e);
      }
      
      // Fallback to local cache
      if (!quotesToUse || quotesToUse.length === 0) {
        console.log('[WisdomQuote] Using WISDOM_QUOTES_CACHE fallback');
        quotesToUse = WISDOM_QUOTES_CACHE;
      }
      
      console.log('[WisdomQuote] Using', quotesToUse.length, 'quotes');
      
      const randomIndex = Math.floor(Math.random() * quotesToUse.length);
      const q = quotesToUse[randomIndex];
      
      if (!q) {
        console.log('[WisdomQuote] No quote found at index', randomIndex);
        return;
      }
      
      // Determine icon
      let icon = q.icon || WISDOM_FRAMEWORK_ICONS[q.framework] || 'ðŸ’¡';
      
      document.getElementById('wisdomQuoteIcon').textContent = icon;
      document.getElementById('wisdomQuoteText').textContent = `"${q.text}"`;
      document.getElementById('wisdomQuoteSource').textContent = `â€” ${q.source}`;
      
      // Add framework label if available
      const sourceEl = document.getElementById('wisdomQuoteSource');
      if (q.framework) {
        const fwIcon = WISDOM_FRAMEWORK_ICONS[q.framework] || '';
        const fwName = q.framework.replace('_', ' ');
        sourceEl.innerHTML = `â€” ${q.source}<br><span style="font-size: 12px; opacity: 0.7;">${fwIcon} ${fwName}</span>`;
      }
    }

    // Close wisdom quote popup on ESC
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.getElementById('wisdomQuotePopup').classList.remove('show');
      }
    });

    // Refresh Wisdom of the Day
    function refreshWisdomOfDay() {
      const randomIndex = Math.floor(Math.random() * WISDOM_SITUATIONS.length);
      const s = WISDOM_SITUATIONS[randomIndex];
      
      const icons = ['ðŸ’¡', 'ðŸŒŸ', 'âœ¨', 'ðŸ”¥', 'ðŸ’ª', 'ðŸŽ¯', 'ðŸ§­', 'ðŸ“¿'];
      const randomIcon = icons[Math.floor(Math.random() * icons.length)];
      
      document.getElementById('wisdomOfDay').innerHTML = `
        <div class="wisdom-home-icon">${s.icon}</div>
        <div class="wisdom-home-principle">"${s.principle}"</div>
        <div class="wisdom-home-title">${s.title}</div>
        <div class="wisdom-home-desc">${s.principleDesc}</div>
        <div class="wisdom-home-frameworks">
          <span>ðŸ›ï¸</span><span>ðŸ§ </span><span>ðŸ’¨</span><span>âš›ï¸</span><span>ðŸ¤</span><span>â˜ªï¸</span>
        </div>
      `;
    }

    // Initialize Wisdom on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Render wisdom cards when page loads
      if (document.getElementById('wisdomGrid')) {
        renderWisdomCards();
      }
      // Initialize wisdom of the day on home
      if (document.getElementById('wisdomOfDay')) {
        refreshWisdomOfDay();
      }
    });

    // Override showPage to handle wisdom
    const originalShowPage = typeof showPage === 'function' ? showPage : null;
    function showPageWithWisdom(pageId) {
      if (originalShowPage) {
        originalShowPage(pageId);
      }
      if (pageId === 'wisdom') {
        renderWisdomCards();
      }
    }
  </script>

  <!-- Dzikir Fullscreen Counter -->
  <div class="dzikir-fullscreen" id="dzikirFullscreen">
    <div class="dzikir-fs-header">
      <button class="dzikir-fs-back" onclick="closeDzikirFullscreen()">â†</button>
      <div class="dzikir-fs-title" id="dzikirFsTitle">Dzikir</div>
    </div>
    
    <div class="dzikir-fs-content">
      <div class="dzikir-fs-arabic" id="dzikirFsArabic" dir="rtl">
        Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù
      </div>
      
      <div class="dzikir-fs-latin" id="dzikirFsLatin">
        Subhanallah
      </div>
      
      <div class="dzikir-fs-meaning" id="dzikirFsMeaning">
        Maha Suci Allah
      </div>
      
      <div class="dzikir-fs-counter">
        <div class="dzikir-fs-circle" id="dzikirFsCircle" onclick="incrementDzikirFs()">
          <span class="dzikir-fs-count" id="dzikirFsCount">0</span>
          <span class="dzikir-fs-target" id="dzikirFsTarget">/ 100</span>
        </div>
      </div>
      
      <div class="dzikir-fs-progress">
        <div class="dzikir-fs-progress-bar" id="dzikirFsProgressBar" style="width: 0%"></div>
      </div>
      
      <div class="dzikir-fs-controls">
        <button class="dzikir-fs-btn" onclick="decrementDzikirFs()">âˆ’</button>
        <button class="dzikir-fs-btn primary" onclick="incrementDzikirFs()">+</button>
        <button class="dzikir-fs-btn" onclick="resetDzikirFs()">â†º</button>
      </div>
      
      <!-- Navigasi Prev/Next Dzikir -->
      <div class="dzikir-fs-nav">
        <button type="button" class="dzikir-fs-nav-btn" id="dzikirPrevBtn" onclick="goToPrevDzikir()" ontouchend="goToPrevDzikir(); event.preventDefault();">
          â† Sebelumnya
        </button>
        <span class="dzikir-fs-nav-indicator" id="dzikirNavIndicator">1/16</span>
        <button type="button" class="dzikir-fs-nav-btn" id="dzikirNextBtn" onclick="goToNextDzikir()" ontouchend="goToNextDzikir(); event.preventDefault();">
          Berikutnya â†’
        </button>
      </div>
      
      <div class="dzikir-fs-virtue" id="dzikirFsVirtue">
        <div class="dzikir-fs-virtue-title">âœ¨ Keutamaan</div>
        <div class="dzikir-fs-virtue-text" id="dzikirFsVirtueText">
          Keutamaan dzikir ini...
        </div>
      </div>
    </div>
    
    <div class="dzikir-fs-footer">
      <button class="dzikir-fs-complete-btn" id="dzikirFsCompleteBtn" onclick="completeDzikirFs()">
        âœ“ Selesai & Simpan
      </button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
